(()=>{var e,t,n,a={4507:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"images/d1fa1354cd2f923e2ea4f3b77fbf22ef-label.png"},2560:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"images/d2c734e86fc5d6a5d5d0f801647e76df-logoDark.svg"},8959:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a=n.p+"images/2117850e1f1dd1629e3507dbb71d45eb-logoLight.svg"},2845:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a="CREATE VIRTUAL TABLE stations_search USING fts5 (\n    name,\n    description,\n    parent,\n    terms,\n    lines,\n    lng,\n    lat\n);\nCREATE VIRTUAL TABLE bounds_search USING fts5 (\n    name,\n    description,\n    terms,\n    id,\n    type,\n    bounds\n);"},7901:(e,t,n)=>{e=n.nmd(e);var a=void 0,r=function(t){return a||(a=new Promise((function(a,r){var i,o=void 0!==t?t:{},l=o.onAbort;o.onAbort=function(e){r(new Error(e)),l&&l(e)},o.postRun=o.postRun||[],o.postRun.push((function(){a(o)})),e=void 0,i||(i=void 0!==o?o:{}),i.onRuntimeInitialized=function(){function e(e,t){this.Qa=e,this.db=t,this.Oa=1,this.kb=[]}function t(e,t){if(this.db=t,t=G(e)+1,this.cb=Tt(t),null===this.cb)throw Error("Unable to allocate memory for the SQL string");W(e,B,this.cb,t),this.ib=this.cb,this.Za=this.ob=null}function n(e){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),null!=e){var t=this.filename,n=t?fe("//"+t):"/";if(n=He(n,4095&(void 0!==(t=dt(!0,!0))?t:438)|32768,0),e){if("string"==typeof e){for(var r=Array(e.length),i=0,l=e.length;i<l;++i)r[i]=e.charCodeAt(i);e=r}nt(n,146|t),ut(r=it(n,577),e,0,e.length,0,void 0),ot(r),nt(n,t)}}this.handleError(o(this.filename,a)),this.db=M(a,"i32"),ae(this.db),this.eb={},this.Wa={}}var a=It(4),r=i.cwrap,o=r("sqlite3_open","number",["string","number"]),l=r("sqlite3_close_v2","number",["number"]),s=r("sqlite3_exec","number",["number","string","number","number","number"]),u=r("sqlite3_changes","number",["number"]),c=r("sqlite3_prepare_v2","number",["number","string","number","number","number"]),d=r("sqlite3_sql","string",["number"]),f=r("sqlite3_normalized_sql","string",["number"]),p=r("sqlite3_prepare_v2","number",["number","number","number","number","number"]),m=r("sqlite3_bind_text","number",["number","number","number","number","number"]),h=r("sqlite3_bind_blob","number",["number","number","number","number","number"]),g=r("sqlite3_bind_double","number",["number","number","number"]),b=r("sqlite3_bind_int","number",["number","number","number"]),y=r("sqlite3_bind_parameter_index","number",["number","string"]),v=r("sqlite3_step","number",["number"]),w=r("sqlite3_errmsg","string",["number"]),_=r("sqlite3_column_count","number",["number"]),x=r("sqlite3_data_count","number",["number"]),L=r("sqlite3_column_double","number",["number","number"]),j=r("sqlite3_column_text","string",["number","number"]),T=r("sqlite3_column_blob","number",["number","number"]),C=r("sqlite3_column_bytes","number",["number","number"]),P=r("sqlite3_column_type","number",["number","number"]),F=r("sqlite3_column_name","string",["number","number"]),R=r("sqlite3_reset","number",["number"]),I=r("sqlite3_clear_bindings","number",["number"]),q=r("sqlite3_finalize","number",["number"]),N=r("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),z=r("sqlite3_value_type","number",["number"]),U=r("sqlite3_value_bytes","number",["number"]),V=r("sqlite3_value_text","string",["number"]),Q=r("sqlite3_value_blob","number",["number"]),J=r("sqlite3_value_double","number",["number"]),Y=r("sqlite3_result_double","",["number","number"]),Z=r("sqlite3_result_null","",["number"]),X=r("sqlite3_result_text","",["number","string","number","number"]),ee=r("sqlite3_result_blob","",["number","number","number","number"]),te=r("sqlite3_result_int","",["number","number"]),ne=r("sqlite3_result_error","",["number","string","number"]),ae=r("RegisterExtensionFunctions","number",["number"]);e.prototype.bind=function(e){if(!this.Qa)throw"Statement closed";return this.reset(),Array.isArray(e)?this.Cb(e):null==e||"object"!=typeof e||this.Db(e)},e.prototype.step=function(){if(!this.Qa)throw"Statement closed";this.Oa=1;var e=v(this.Qa);switch(e){case 100:return!0;case 101:return!1;default:throw this.db.handleError(e)}},e.prototype.yb=function(e){return null==e&&(e=this.Oa,this.Oa+=1),L(this.Qa,e)},e.prototype.Gb=function(e){if(null==e&&(e=this.Oa,this.Oa+=1),e=j(this.Qa,e),"function"!=typeof BigInt)throw Error("BigInt is not supported");return BigInt(e)},e.prototype.Hb=function(e){return null==e&&(e=this.Oa,this.Oa+=1),j(this.Qa,e)},e.prototype.getBlob=function(e){null==e&&(e=this.Oa,this.Oa+=1);var t=C(this.Qa,e);e=T(this.Qa,e);for(var n=new Uint8Array(t),a=0;a<t;a+=1)n[a]=D[e+a];return n},e.prototype.get=function(e,t){t=t||{},null!=e&&this.bind(e)&&this.step(),e=[];for(var n=x(this.Qa),a=0;a<n;a+=1)switch(P(this.Qa,a)){case 1:var r=t.useBigInt?this.Gb(a):this.yb(a);e.push(r);break;case 2:e.push(this.yb(a));break;case 3:e.push(this.Hb(a));break;case 4:e.push(this.getBlob(a));break;default:e.push(null)}return e},e.prototype.getColumnNames=function(){for(var e=[],t=_(this.Qa),n=0;n<t;n+=1)e.push(F(this.Qa,n));return e},e.prototype.getAsObject=function(e,t){e=this.get(e,t),t=this.getColumnNames();for(var n={},a=0;a<t.length;a+=1)n[t[a]]=e[a];return n},e.prototype.getSQL=function(){return d(this.Qa)},e.prototype.getNormalizedSQL=function(){return f(this.Qa)},e.prototype.run=function(e){return null!=e&&this.bind(e),this.step(),this.reset()},e.prototype.tb=function(e,t){null==t&&(t=this.Oa,this.Oa+=1);var n=A(e=Mt(e));this.kb.push(n),this.db.handleError(m(this.Qa,t,n,e.length-1,0))},e.prototype.Bb=function(e,t){null==t&&(t=this.Oa,this.Oa+=1);var n=A(e);this.kb.push(n),this.db.handleError(h(this.Qa,t,n,e.length,0))},e.prototype.sb=function(e,t){null==t&&(t=this.Oa,this.Oa+=1),this.db.handleError((e===(0|e)?b:g)(this.Qa,t,e))},e.prototype.Eb=function(e){null==e&&(e=this.Oa,this.Oa+=1),h(this.Qa,e,0,0,0)},e.prototype.ub=function(e,t){switch(null==t&&(t=this.Oa,this.Oa+=1),typeof e){case"string":return void this.tb(e,t);case"number":return void this.sb(e,t);case"bigint":return void this.tb(e.toString(),t);case"boolean":return void this.sb(e+0,t);case"object":if(null===e)return void this.Eb(t);if(null!=e.length)return void this.Bb(e,t)}throw"Wrong API use : tried to bind a value of an unknown type ("+e+")."},e.prototype.Db=function(e){var t=this;return Object.keys(e).forEach((function(n){var a=y(t.Qa,n);0!==a&&t.ub(e[n],a)})),!0},e.prototype.Cb=function(e){for(var t=0;t<e.length;t+=1)this.ub(e[t],t+1);return!0},e.prototype.reset=function(){return this.freemem(),0===I(this.Qa)&&0===R(this.Qa)},e.prototype.freemem=function(){for(var e;void 0!==(e=this.kb.pop());)Ct(e)},e.prototype.free=function(){this.freemem();var e=0===q(this.Qa);return delete this.db.eb[this.Qa],this.Qa=0,e},t.prototype.next=function(){if(null===this.cb)return{done:!0};if(null!==this.Za&&(this.Za.free(),this.Za=null),!this.db.db)throw this.mb(),Error("Database closed");var t=Bt(),n=It(4);k(a),k(n);try{this.db.handleError(p(this.db.db,this.ib,-1,a,n)),this.ib=M(n,"i32");var r=M(a,"i32");return 0===r?(this.mb(),{done:!0}):(this.Za=new e(r,this.db),this.db.eb[r]=this.Za,{value:this.Za,done:!1})}catch(e){throw this.ob=$(this.ib),this.mb(),e}finally{Rt(t)}},t.prototype.mb=function(){Ct(this.cb),this.cb=null},t.prototype.getRemainingSQL=function(){return null!==this.ob?this.ob:$(this.ib)},"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator&&(t.prototype[Symbol.iterator]=function(){return this}),n.prototype.run=function(e,t){if(!this.db)throw"Database closed";if(t){e=this.prepare(e,t);try{e.step()}finally{e.free()}}else this.handleError(s(this.db,e,0,0,a));return this},n.prototype.exec=function(t,n,r){if(!this.db)throw"Database closed";var i=Bt(),o=null;try{var l=G(t)+1,s=It(l);W(t,D,s,l);var u=s,c=It(4);for(t=[];0!==M(u,"i8");){k(a),k(c),this.handleError(p(this.db,u,-1,a,c));var d=M(a,"i32");if(u=M(c,"i32"),0!==d){for(l=null,o=new e(d,this),null!=n&&o.bind(n);o.step();)null===l&&(l={columns:o.getColumnNames(),values:[]},t.push(l)),l.values.push(o.get(null,r));o.free()}}return t}catch(e){throw o&&o.free(),e}finally{Rt(i)}},n.prototype.each=function(e,t,n,a,r){"function"==typeof t&&(a=n,n=t,t=void 0),e=this.prepare(e,t);try{for(;e.step();)n(e.getAsObject(null,r))}finally{e.free()}if("function"==typeof a)return a()},n.prototype.prepare=function(t,n){if(k(a),this.handleError(c(this.db,t,-1,a,0)),0===(t=M(a,"i32")))throw"Nothing to prepare";var r=new e(t,this);return null!=n&&r.bind(n),this.eb[t]=r},n.prototype.iterateStatements=function(e){return new t(e,this)},n.prototype.export=function(){Object.values(this.eb).forEach((function(e){e.free()})),Object.values(this.Wa).forEach(S),this.Wa={},this.handleError(l(this.db));var e=function(e){var t={encoding:"binary"};if((t=t||{}).flags=t.flags||0,t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw Error('Invalid encoding type "'+t.encoding+'"');var n,a=it(e,t.flags);e=et(e).size;var r=new Uint8Array(e);return st(a,r,0,e,0),"utf8"===t.encoding?n=K(r,0):"binary"===t.encoding&&(n=r),ot(a),n}(this.filename);return this.handleError(o(this.filename,a)),this.db=M(a,"i32"),e},n.prototype.close=function(){null!==this.db&&(Object.values(this.eb).forEach((function(e){e.free()})),Object.values(this.Wa).forEach(S),this.Wa={},this.handleError(l(this.db)),Ze("/"+this.filename),this.db=null)},n.prototype.handleError=function(e){if(0===e)return null;throw e=w(this.db),Error(e)},n.prototype.getRowsModified=function(){return u(this.db)},n.prototype.create_function=function(e,t){Object.prototype.hasOwnProperty.call(this.Wa,e)&&(S(this.Wa[e]),delete this.Wa[e]);var n=function(e){if(!E){E=new WeakMap;for(var t=0;t<H.length;t++){var n=H.get(t);n&&E.set(n,t)}}if(E.has(e))e=E.get(e);else{if(O.length)t=O.pop();else{try{H.grow(1)}catch(e){if(!(e instanceof RangeError))throw e;throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH."}t=H.length-1}try{H.set(t,e)}catch(i){if(!(i instanceof TypeError))throw i;if("function"==typeof WebAssembly.Function){var a={i:"i32",j:"i64",f:"f32",d:"f64"},r={parameters:[],results:[]};for(n=1;4>n;++n)r.parameters.push(a["viii"[n]]);n=new WebAssembly.Function(r,e)}else{for(r={i:127,j:126,f:125,d:124},(a=[1,0,1,96]).push(3),n=0;3>n;++n)a.push(r["iii"[n]]);a.push(0),a[1]=a.length-2,n=new Uint8Array([0,97,115,109,1,0,0,0].concat(a,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0])),n=new WebAssembly.Module(n),n=new WebAssembly.Instance(n,{e:{f:e}}).exports.f}H.set(t,n)}E.set(e,t),e=t}return e}((function(e,n,a){for(var r,i=[],o=0;o<n;o+=1){var l=M(a+4*o,"i32"),s=z(l);if(1===s||2===s)l=J(l);else if(3===s)l=V(l);else if(4===s){l=U(s=l),s=Q(s);for(var u=new Uint8Array(l),c=0;c<l;c+=1)u[c]=D[s+c];l=u}else l=null;i.push(l)}try{r=t.apply(null,i)}catch(t){return void ne(e,t,-1)}switch(typeof r){case"boolean":te(e,r?1:0);break;case"number":Y(e,r);break;case"string":X(e,r,-1,-1);break;case"object":null===r?Z(e):null!=r.length?(n=A(r),ee(e,n,r.length,-1),Ct(n)):ne(e,"Wrong API use : tried to return a value of an unknown type ("+r+").",-1);break;default:Z(e)}}));return this.Wa[e]=n,this.handleError(N(this.db,e,t.length,1,0,n,0,0,0)),this},i.Database=n};var s,u={};for(s in i)i.hasOwnProperty(s)&&(u[s]=i[s]);var c,d,f,p,m,h="./this.program",g="object"==typeof window,b="function"==typeof importScripts,y="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,v="";y?(v=b?n(8183).dirname(v)+"/":"//",c=function(e,t){return p||(p=n(2219)),m||(m=n(8183)),e=m.normalize(e),p.readFileSync(e,t?null:"utf8")},f=function(e){return(e=c(e,!0)).buffer||(e=new Uint8Array(e)),e.buffer||oe("Assertion failed: undefined"),e},d=function(e,t,a){p||(p=n(2219)),m||(m=n(8183)),e=m.normalize(e),p.readFile(e,(function(e,n){e?a(e):t(n.buffer)}))},1<process.argv.length&&(h=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),e.exports=i,i.inspect=function(){return"[Emscripten Module object]"}):(g||b)&&(b?v=self.location.href:"undefined"!=typeof document&&document.currentScript&&(v=document.currentScript.src),v=0!==v.indexOf("blob:")?v.substr(0,v.lastIndexOf("/")+1):"",c=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},b&&(f=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),d=function(e,t,n){var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="arraybuffer",a.onload=function(){200==a.status||0==a.status&&a.response?t(a.response):n()},a.onerror=n,a.send(null)});var w=i.print||console.log.bind(console),_=i.printErr||console.warn.bind(console);for(s in u)u.hasOwnProperty(s)&&(i[s]=u[s]);u=null,i.thisProgram&&(h=i.thisProgram);var E,x,O=[];function S(e){E.delete(H.get(e)),O.push(e)}function k(e){var t="i32";switch("*"===t.charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":D[e>>0]=0;break;case"i16":R[e>>1]=0;break;case"i32":I[e>>2]=0;break;case"i64":te=[0,(ee=0,1<=+Math.abs(ee)?0<ee?(0|Math.min(+Math.floor(ee/4294967296),4294967295))>>>0:~~+Math.ceil((ee-+(~~ee>>>0))/4294967296)>>>0:0)],I[e>>2]=te[0],I[e+4>>2]=te[1];break;case"float":q[e>>2]=0;break;case"double":N[e>>3]=0;break;default:oe("invalid type for setValue: "+t)}}function M(e,t){switch("*"===(t=t||"i8").charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":return D[e>>0];case"i16":return R[e>>1];case"i32":case"i64":return I[e>>2];case"float":return q[e>>2];case"double":return N[e>>3];default:oe("invalid type for getValue: "+t)}return null}i.wasmBinary&&(x=i.wasmBinary),i.noExitRuntime,"object"!=typeof WebAssembly&&oe("no native wasm support detected");var L,j=!1;function T(e){var t=i["_"+e];return t||oe("Assertion failed: Cannot call unknown function "+e+", make sure it is exported"),t}var C=0,P=1;function A(e){var t=C==P?It(e.length):Tt(e.length);return e.subarray||e.slice?B.set(e,t):B.set(new Uint8Array(e),t),t}var F,D,B,R,I,q,N,z="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function K(e,t,n){var a=t+n;for(n=t;e[n]&&!(n>=a);)++n;if(16<n-t&&e.subarray&&z)return z.decode(e.subarray(t,n));for(a="";t<n;){var r=e[t++];if(128&r){var i=63&e[t++];if(192==(224&r))a+=String.fromCharCode((31&r)<<6|i);else{var o=63&e[t++];65536>(r=224==(240&r)?(15&r)<<12|i<<6|o:(7&r)<<18|i<<12|o<<6|63&e[t++])?a+=String.fromCharCode(r):(r-=65536,a+=String.fromCharCode(55296|r>>10,56320|1023&r))}}else a+=String.fromCharCode(r)}return a}function $(e,t){return e?K(B,e,t):""}function W(e,t,n,a){if(!(0<a))return 0;var r=n;a=n+a-1;for(var i=0;i<e.length;++i){var o=e.charCodeAt(i);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++i)),127>=o){if(n>=a)break;t[n++]=o}else{if(2047>=o){if(n+1>=a)break;t[n++]=192|o>>6}else{if(65535>=o){if(n+2>=a)break;t[n++]=224|o>>12}else{if(n+3>=a)break;t[n++]=240|o>>18,t[n++]=128|o>>12&63}t[n++]=128|o>>6&63}t[n++]=128|63&o}}return t[n]=0,n-r}function G(e){for(var t=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);55296<=a&&57343>=a&&(a=65536+((1023&a)<<10)|1023&e.charCodeAt(++n)),127>=a?++t:t=2047>=a?t+2:65535>=a?t+3:t+4}return t}function U(e){var t=G(e)+1,n=Tt(t);return n&&W(e,D,n,t),n}function V(){var e=L.buffer;F=e,i.HEAP8=D=new Int8Array(e),i.HEAP16=R=new Int16Array(e),i.HEAP32=I=new Int32Array(e),i.HEAPU8=B=new Uint8Array(e),i.HEAPU16=new Uint16Array(e),i.HEAPU32=new Uint32Array(e),i.HEAPF32=q=new Float32Array(e),i.HEAPF64=N=new Float64Array(e)}var H,Q=[],J=[],Y=[];function Z(){var e=i.preRun.shift();Q.unshift(e)}var X,ee,te,ne,ae=0,re=null,ie=null;function oe(e){throw i.onAbort&&i.onAbort(e),_(e),j=!0,new WebAssembly.RuntimeError("abort("+e+"). Build with -s ASSERTIONS=1 for more info.")}function le(){return X.startsWith("data:application/octet-stream;base64,")}if(i.preloadedImages={},i.preloadedAudios={},X="sql-wasm.wasm",!le()){var se=X;X=i.locateFile?i.locateFile(se,v):v+se}function ue(){var e=X;try{if(e==X&&x)return new Uint8Array(x);if(f)return f(e);throw"both async and sync fetching of the wasm failed"}catch(e){oe(e)}}function ce(e){for(;0<e.length;){var t=e.shift();if("function"==typeof t)t(i);else{var n=t.Qb;"number"==typeof n?void 0===t.lb?H.get(n)():H.get(n)(t.lb):n(void 0===t.lb?null:t.lb)}}}function de(e,t){for(var n=0,a=e.length-1;0<=a;a--){var r=e[a];"."===r?e.splice(a,1):".."===r?(e.splice(a,1),n++):n&&(e.splice(a,1),n--)}if(t)for(;n;n--)e.unshift("..");return e}function fe(e){var t="/"===e.charAt(0),n="/"===e.substr(-1);return(e=de(e.split("/").filter((function(e){return!!e})),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e}function pe(e){var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1);return e=t[0],t=t[1],e||t?(t&&(t=t.substr(0,t.length-1)),e+t):"."}function me(e){if("/"===e)return"/";var t=(e=(e=fe(e)).replace(/\/$/,"")).lastIndexOf("/");return-1===t?e:e.substr(t+1)}function he(){for(var e="",t=!1,n=arguments.length-1;-1<=n&&!t;n--){if("string"!=typeof(t=0<=n?arguments[n]:"/"))throw new TypeError("Arguments to path.resolve must be strings");if(!t)return"";e=t+"/"+e,t="/"===t.charAt(0)}return(t?"/":"")+(e=de(e.split("/").filter((function(e){return!!e})),!t).join("/"))||"."}var ge=[];function be(e,t){ge[e]={input:[],output:[],bb:t},Ue(e,ye)}var ye={open:function(e){var t=ge[e.node.rdev];if(!t)throw new Te(43);e.tty=t,e.seekable=!1},close:function(e){e.tty.bb.flush(e.tty)},flush:function(e){e.tty.bb.flush(e.tty)},read:function(e,t,n,a){if(!e.tty||!e.tty.bb.zb)throw new Te(60);for(var r=0,i=0;i<a;i++){try{var o=e.tty.bb.zb(e.tty)}catch(e){throw new Te(29)}if(void 0===o&&0===r)throw new Te(6);if(null==o)break;r++,t[n+i]=o}return r&&(e.node.timestamp=Date.now()),r},write:function(e,t,n,a){if(!e.tty||!e.tty.bb.pb)throw new Te(60);try{for(var r=0;r<a;r++)e.tty.bb.pb(e.tty,t[n+r])}catch(e){throw new Te(29)}return a&&(e.node.timestamp=Date.now()),r}},ve={zb:function(e){if(!e.input.length){var t=null;if(y){var n=Buffer.alloc(256),a=0;try{a=p.readSync(process.stdin.fd,n,0,256,null)}catch(e){if(!e.toString().includes("EOF"))throw e;a=0}t=0<a?n.slice(0,a).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n");if(!t)return null;e.input=Mt(t,!0)}return e.input.shift()},pb:function(e,t){null===t||10===t?(w(K(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&0<e.output.length&&(w(K(e.output,0)),e.output=[])}},we={pb:function(e,t){null===t||10===t?(_(K(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&0<e.output.length&&(_(K(e.output,0)),e.output=[])}};function _e(e){e=65536*Math.ceil(e/65536);var t=qt(65536,e);return t?(B.fill(0,t,t+e),t):0}var Ee={Ua:null,Va:function(){return Ee.createNode(null,"/",16895,0)},createNode:function(e,t,n,a){if(24576==(61440&n)||4096==(61440&n))throw new Te(63);return Ee.Ua||(Ee.Ua={dir:{node:{Ta:Ee.La.Ta,Sa:Ee.La.Sa,lookup:Ee.La.lookup,fb:Ee.La.fb,rename:Ee.La.rename,unlink:Ee.La.unlink,rmdir:Ee.La.rmdir,readdir:Ee.La.readdir,symlink:Ee.La.symlink},stream:{Ya:Ee.Ma.Ya}},file:{node:{Ta:Ee.La.Ta,Sa:Ee.La.Sa},stream:{Ya:Ee.Ma.Ya,read:Ee.Ma.read,write:Ee.Ma.write,rb:Ee.Ma.rb,gb:Ee.Ma.gb,hb:Ee.Ma.hb}},link:{node:{Ta:Ee.La.Ta,Sa:Ee.La.Sa,readlink:Ee.La.readlink},stream:{}},vb:{node:{Ta:Ee.La.Ta,Sa:Ee.La.Sa},stream:Ge}}),Ie((n=Re(e,t,n,a)).mode)?(n.La=Ee.Ua.dir.node,n.Ma=Ee.Ua.dir.stream,n.Na={}):32768==(61440&n.mode)?(n.La=Ee.Ua.file.node,n.Ma=Ee.Ua.file.stream,n.Ra=0,n.Na=null):40960==(61440&n.mode)?(n.La=Ee.Ua.link.node,n.Ma=Ee.Ua.link.stream):8192==(61440&n.mode)&&(n.La=Ee.Ua.vb.node,n.Ma=Ee.Ua.vb.stream),n.timestamp=Date.now(),e&&(e.Na[t]=n,e.timestamp=n.timestamp),n},Rb:function(e){return e.Na?e.Na.subarray?e.Na.subarray(0,e.Ra):new Uint8Array(e.Na):new Uint8Array(0)},wb:function(e,t){var n=e.Na?e.Na.length:0;n>=t||(t=Math.max(t,n*(1048576>n?2:1.125)>>>0),0!=n&&(t=Math.max(t,256)),n=e.Na,e.Na=new Uint8Array(t),0<e.Ra&&e.Na.set(n.subarray(0,e.Ra),0))},Nb:function(e,t){if(e.Ra!=t)if(0==t)e.Na=null,e.Ra=0;else{var n=e.Na;e.Na=new Uint8Array(t),n&&e.Na.set(n.subarray(0,Math.min(t,e.Ra))),e.Ra=t}},La:{Ta:function(e){var t={};return t.dev=8192==(61440&e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,Ie(e.mode)?t.size=4096:32768==(61440&e.mode)?t.size=e.Ra:40960==(61440&e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.Fb=4096,t.blocks=Math.ceil(t.size/t.Fb),t},Sa:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&Ee.Nb(e,t.size)},lookup:function(){throw Ce[44]},fb:function(e,t,n,a){return Ee.createNode(e,t,n,a)},rename:function(e,t,n){if(Ie(e.mode)){try{var a=Be(t,n)}catch(e){}if(a)for(var r in a.Na)throw new Te(55)}delete e.parent.Na[e.name],e.parent.timestamp=Date.now(),e.name=n,t.Na[n]=e,t.timestamp=e.parent.timestamp,e.parent=t},unlink:function(e,t){delete e.Na[t],e.timestamp=Date.now()},rmdir:function(e,t){var n,a=Be(e,t);for(n in a.Na)throw new Te(55);delete e.Na[t],e.timestamp=Date.now()},readdir:function(e){var t,n=[".",".."];for(t in e.Na)e.Na.hasOwnProperty(t)&&n.push(t);return n},symlink:function(e,t,n){return(e=Ee.createNode(e,t,41471,0)).link=n,e},readlink:function(e){if(40960!=(61440&e.mode))throw new Te(28);return e.link}},Ma:{read:function(e,t,n,a,r){var i=e.node.Na;if(r>=e.node.Ra)return 0;if(8<(e=Math.min(e.node.Ra-r,a))&&i.subarray)t.set(i.subarray(r,r+e),n);else for(a=0;a<e;a++)t[n+a]=i[r+a];return e},write:function(e,t,n,a,r,i){if(t.buffer===D.buffer&&(i=!1),!a)return 0;if((e=e.node).timestamp=Date.now(),t.subarray&&(!e.Na||e.Na.subarray)){if(i)return e.Na=t.subarray(n,n+a),e.Ra=a;if(0===e.Ra&&0===r)return e.Na=t.slice(n,n+a),e.Ra=a;if(r+a<=e.Ra)return e.Na.set(t.subarray(n,n+a),r),a}if(Ee.wb(e,r+a),e.Na.subarray&&t.subarray)e.Na.set(t.subarray(n,n+a),r);else for(i=0;i<a;i++)e.Na[r+i]=t[n+i];return e.Ra=Math.max(e.Ra,r+a),a},Ya:function(e,t,n){if(1===n?t+=e.position:2===n&&32768==(61440&e.node.mode)&&(t+=e.node.Ra),0>t)throw new Te(28);return t},rb:function(e,t,n){Ee.wb(e.node,t+n),e.node.Ra=Math.max(e.node.Ra,t+n)},gb:function(e,t,n,a,r,i){if(0!==t)throw new Te(28);if(32768!=(61440&e.node.mode))throw new Te(43);if(e=e.node.Na,2&i||e.buffer!==F){if((0<a||a+n<e.length)&&(e=e.subarray?e.subarray(a,a+n):Array.prototype.slice.call(e,a,a+n)),a=!0,!(n=_e(n)))throw new Te(48);D.set(e,n)}else a=!1,n=e.byteOffset;return{Mb:n,jb:a}},hb:function(e,t,n,a,r){if(32768!=(61440&e.node.mode))throw new Te(43);return 2&r||Ee.Ma.write(e,t,0,a,n,!1),0}}},xe=null,Oe={},Se=[],ke=1,Me=null,Le=!0,je={},Te=null,Ce={};function Pe(e,t){if(t=t||{},!(e=he("/",e)))return{path:"",node:null};var n,a={xb:!0,qb:0};for(n in a)void 0===t[n]&&(t[n]=a[n]);if(8<t.qb)throw new Te(32);e=de(e.split("/").filter((function(e){return!!e})),!1);var r=xe;for(a="/",n=0;n<e.length;n++){var i=n===e.length-1;if(i&&t.parent)break;if(r=Be(r,e[n]),a=fe(a+"/"+e[n]),r.$a&&(!i||i&&t.xb)&&(r=r.$a.root),!i||t.Xa)for(i=0;40960==(61440&r.mode);)if(r=Xe(a),r=Pe(a=he(pe(a),r),{qb:t.qb}).node,40<i++)throw new Te(32)}return{path:a,node:r}}function Ae(e){for(var t;;){if(e===e.parent)return e=e.Va.Ab,t?"/"!==e[e.length-1]?e+"/"+t:e+t:e;t=t?e.name+"/"+t:e.name,e=e.parent}}function Fe(e,t){for(var n=0,a=0;a<t.length;a++)n=(n<<5)-n+t.charCodeAt(a)|0;return(e+n>>>0)%Me.length}function De(e){var t=Fe(e.parent.id,e.name);if(Me[t]===e)Me[t]=e.ab;else for(t=Me[t];t;){if(t.ab===e){t.ab=e.ab;break}t=t.ab}}function Be(e,t){var n;if(n=(n=ze(e,"x"))?n:e.La.lookup?0:2)throw new Te(n,e);for(n=Me[Fe(e.id,t)];n;n=n.ab){var a=n.name;if(n.parent.id===e.id&&a===t)return n}return e.La.lookup(e,t)}function Re(e,t,n,a){return t=Fe((e=new kt(e,t,n,a)).parent.id,e.name),e.ab=Me[t],Me[t]=e}function Ie(e){return 16384==(61440&e)}var qe={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090};function Ne(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t}function ze(e,t){return Le?0:!t.includes("r")||292&e.mode?t.includes("w")&&!(146&e.mode)||t.includes("x")&&!(73&e.mode)?2:0:2}function Ke(e,t){try{return Be(e,t),20}catch(e){}return ze(e,"wx")}function $e(e,t,n){try{var a=Be(e,t)}catch(e){return e.Pa}if(e=ze(e,"wx"))return e;if(n){if(!Ie(a.mode))return 54;if(a===a.parent||"/"===Ae(a))return 10}else if(Ie(a.mode))return 31;return 0}var We,Ge={open:function(e){e.Ma=Oe[e.node.rdev].Ma,e.Ma.open&&e.Ma.open(e)},Ya:function(){throw new Te(70)}};function Ue(e,t){Oe[e]={Ma:t}}function Ve(e,t){var n="/"===t,a=!t;if(n&&xe)throw new Te(10);if(!n&&!a){var r=Pe(t,{xb:!1});if(t=r.path,(r=r.node).$a)throw new Te(10);if(!Ie(r.mode))throw new Te(54)}t={type:e,Sb:{},Ab:t,Kb:[]},(e=e.Va(t)).Va=t,t.root=e,n?xe=e:r&&(r.$a=t,r.Va&&r.Va.Kb.push(t))}function He(e,t,n){var a=Pe(e,{parent:!0}).node;if(!(e=me(e))||"."===e||".."===e)throw new Te(28);var r=Ke(a,e);if(r)throw new Te(r);if(!a.La.fb)throw new Te(63);return a.La.fb(a,e,t,n)}function Qe(e,t){return He(e,1023&(void 0!==t?t:511)|16384,0)}function Je(e,t,n){void 0===n&&(n=t,t=438),He(e,8192|t,n)}function Ye(e,t){if(!he(e))throw new Te(44);var n=Pe(t,{parent:!0}).node;if(!n)throw new Te(44);var a=Ke(n,t=me(t));if(a)throw new Te(a);if(!n.La.symlink)throw new Te(63);n.La.symlink(n,t,e)}function Ze(e){var t=Pe(e,{parent:!0}).node,n=me(e),a=Be(t,n),r=$e(t,n,!1);if(r)throw new Te(r);if(!t.La.unlink)throw new Te(63);if(a.$a)throw new Te(10);try{je.willDeletePath&&je.willDeletePath(e)}catch(t){_("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}t.La.unlink(t,n),De(a);try{je.onDeletePath&&je.onDeletePath(e)}catch(t){_("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}}function Xe(e){if(!(e=Pe(e).node))throw new Te(44);if(!e.La.readlink)throw new Te(28);return he(Ae(e.parent),e.La.readlink(e))}function et(e,t){if(!(e=Pe(e,{Xa:!t}).node))throw new Te(44);if(!e.La.Ta)throw new Te(63);return e.La.Ta(e)}function tt(e){return et(e,!0)}function nt(e,t){if(!(e="string"==typeof e?Pe(e,{Xa:!0}).node:e).La.Sa)throw new Te(63);e.La.Sa(e,{mode:4095&t|-4096&e.mode,timestamp:Date.now()})}function at(e){if(!(e="string"==typeof e?Pe(e,{Xa:!0}).node:e).La.Sa)throw new Te(63);e.La.Sa(e,{timestamp:Date.now()})}function rt(e,t){if(0>t)throw new Te(28);if(!(e="string"==typeof e?Pe(e,{Xa:!0}).node:e).La.Sa)throw new Te(63);if(Ie(e.mode))throw new Te(31);if(32768!=(61440&e.mode))throw new Te(28);var n=ze(e,"w");if(n)throw new Te(n);e.La.Sa(e,{size:t,timestamp:Date.now()})}function it(e,t,n,a){if(""===e)throw new Te(44);if("string"==typeof t){var r=qe[t];if(void 0===r)throw Error("Unknown file open mode: "+t);t=r}if(n=64&t?4095&(void 0===n?438:n)|32768:0,"object"==typeof e)var o=e;else{e=fe(e);try{o=Pe(e,{Xa:!(131072&t)}).node}catch(e){}}if(r=!1,64&t)if(o){if(128&t)throw new Te(20)}else o=He(e,n,0),r=!0;if(!o)throw new Te(44);if(8192==(61440&o.mode)&&(t&=-513),65536&t&&!Ie(o.mode))throw new Te(54);if(!r&&(n=o?40960==(61440&o.mode)?32:Ie(o.mode)&&("r"!==Ne(t)||512&t)?31:ze(o,Ne(t)):44))throw new Te(n);512&t&&rt(o,0),t&=-131713,(a=function(e,t){mt||((mt=function(){}).prototype={});var n,a=new mt;for(n in e)a[n]=e[n];return e=a,t=function(e){for(e=e||0;e<=4096;e++)if(!Se[e])return e;throw new Te(33)}(t),e.fd=t,Se[t]=e}({node:o,path:Ae(o),flags:t,seekable:!0,position:0,Ma:o.Ma,Pb:[],error:!1},a)).Ma.open&&a.Ma.open(a),!i.logReadFiles||1&t||(ht||(ht={}),e in ht||(ht[e]=1,_("FS.trackingDelegate error on read file: "+e)));try{je.onOpenFile&&(o=0,1!=(2097155&t)&&(o|=1),0!=(2097155&t)&&(o|=2),je.onOpenFile(e,o))}catch(t){_("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+t.message)}return a}function ot(e){if(null===e.fd)throw new Te(8);e.nb&&(e.nb=null);try{e.Ma.close&&e.Ma.close(e)}catch(e){throw e}finally{Se[e.fd]=null}e.fd=null}function lt(e,t,n){if(null===e.fd)throw new Te(8);if(!e.seekable||!e.Ma.Ya)throw new Te(70);if(0!=n&&1!=n&&2!=n)throw new Te(28);e.position=e.Ma.Ya(e,t,n),e.Pb=[]}function st(e,t,n,a,r){if(0>a||0>r)throw new Te(28);if(null===e.fd)throw new Te(8);if(1==(2097155&e.flags))throw new Te(8);if(Ie(e.node.mode))throw new Te(31);if(!e.Ma.read)throw new Te(28);var i=void 0!==r;if(i){if(!e.seekable)throw new Te(70)}else r=e.position;return t=e.Ma.read(e,t,n,a,r),i||(e.position+=t),t}function ut(e,t,n,a,r,i){if(0>a||0>r)throw new Te(28);if(null===e.fd)throw new Te(8);if(0==(2097155&e.flags))throw new Te(8);if(Ie(e.node.mode))throw new Te(31);if(!e.Ma.write)throw new Te(28);e.seekable&&1024&e.flags&&lt(e,0,2);var o=void 0!==r;if(o){if(!e.seekable)throw new Te(70)}else r=e.position;t=e.Ma.write(e,t,n,a,r,i),o||(e.position+=t);try{e.path&&je.onWriteToFile&&je.onWriteToFile(e.path)}catch(t){_("FS.trackingDelegate['onWriteToFile']('"+e.path+"') threw an exception: "+t.message)}return t}function ct(){Te||((Te=function(e,t){this.node=t,this.Ob=function(e){this.Pa=e},this.Ob(e),this.message="FS error"}).prototype=Error(),Te.prototype.constructor=Te,[44].forEach((function(e){Ce[e]=new Te(e),Ce[e].stack="<generic error, no stack>"})))}function dt(e,t){var n=0;return e&&(n|=365),t&&(n|=146),n}function ft(e,t,n){e=fe("/dev/"+e);var a=dt(!!t,!!n);pt||(pt=64);var r=pt++<<8|0;Ue(r,{open:function(e){e.seekable=!1},close:function(){n&&n.buffer&&n.buffer.length&&n(10)},read:function(e,n,a,r){for(var i=0,o=0;o<r;o++){try{var l=t()}catch(e){throw new Te(29)}if(void 0===l&&0===i)throw new Te(6);if(null==l)break;i++,n[a+o]=l}return i&&(e.node.timestamp=Date.now()),i},write:function(e,t,a,r){for(var i=0;i<r;i++)try{n(t[a+i])}catch(e){throw new Te(29)}return r&&(e.node.timestamp=Date.now()),i}}),Je(e,a,r)}var pt,mt,ht,gt={},bt={};function yt(e,t,n){try{var a=e(t)}catch(e){if(e&&e.node&&fe(t)!==fe(Ae(e.node)))return-54;throw e}return I[n>>2]=a.dev,I[n+4>>2]=0,I[n+8>>2]=a.ino,I[n+12>>2]=a.mode,I[n+16>>2]=a.nlink,I[n+20>>2]=a.uid,I[n+24>>2]=a.gid,I[n+28>>2]=a.rdev,I[n+32>>2]=0,te=[a.size>>>0,(ee=a.size,1<=+Math.abs(ee)?0<ee?(0|Math.min(+Math.floor(ee/4294967296),4294967295))>>>0:~~+Math.ceil((ee-+(~~ee>>>0))/4294967296)>>>0:0)],I[n+40>>2]=te[0],I[n+44>>2]=te[1],I[n+48>>2]=4096,I[n+52>>2]=a.blocks,I[n+56>>2]=a.atime.getTime()/1e3|0,I[n+60>>2]=0,I[n+64>>2]=a.mtime.getTime()/1e3|0,I[n+68>>2]=0,I[n+72>>2]=a.ctime.getTime()/1e3|0,I[n+76>>2]=0,te=[a.ino>>>0,(ee=a.ino,1<=+Math.abs(ee)?0<ee?(0|Math.min(+Math.floor(ee/4294967296),4294967295))>>>0:~~+Math.ceil((ee-+(~~ee>>>0))/4294967296)>>>0:0)],I[n+80>>2]=te[0],I[n+84>>2]=te[1],0}var vt,wt=void 0;function _t(){return I[(wt+=4)-4>>2]}function Et(e){if(!(e=Se[e]))throw new Te(8);return e}vt=y?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:function(){return performance.now()};var xt,Ot={};function St(){if(!xt){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:h||"./this.program"};for(e in Ot)void 0===Ot[e]?delete t[e]:t[e]=Ot[e];var n=[];for(e in t)n.push(e+"="+t[e]);xt=n}return xt}function kt(e,t,n,a){e||(e=this),this.parent=e,this.Va=e.Va,this.$a=null,this.id=ke++,this.name=t,this.mode=n,this.La={},this.Ma={},this.rdev=a}function Mt(e,t){var n=Array(G(e)+1);return e=W(e,n,0,n.length),t&&(n.length=e),n}Object.defineProperties(kt.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}}}),ct(),Me=Array(4096),Ve(Ee,"/"),Qe("/tmp"),Qe("/home"),Qe("/home/web_user"),function(){Qe("/dev"),Ue(259,{read:function(){return 0},write:function(e,t,n,a){return a}}),Je("/dev/null",259),be(1280,ve),be(1536,we),Je("/dev/tty",1280),Je("/dev/tty1",1536);var e=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}if(y)try{var t=n(9824);return function(){return t.randomBytes(1)[0]}}catch(e){}return function(){oe("randomDevice")}}();ft("random",e),ft("urandom",e),Qe("/dev/shm"),Qe("/dev/shm/tmp")}(),function(){Qe("/proc");var e=Qe("/proc/self");Qe("/proc/self/fd"),Ve({Va:function(){var t=Re(e,"fd",16895,73);return t.La={lookup:function(e,t){var n=Se[+t];if(!n)throw new Te(8);return(e={parent:null,Va:{Ab:"fake"},La:{readlink:function(){return n.path}}}).parent=e}},t}},"/proc/self/fd")}();var Lt={a:function(e,t,n,a){oe("Assertion failed: "+$(e)+", at: "+[t?$(t):"unknown filename",n,a?$(a):"unknown function"])},r:function(e,t){ne||(ne=!0,function(){function e(e){return(e=e.toTimeString().match(/\(([A-Za-z ]+)\)$/))?e[1]:"GMT"}var t=(new Date).getFullYear(),n=new Date(t,0,1),a=new Date(t,6,1);t=n.getTimezoneOffset();var r=a.getTimezoneOffset(),i=Math.max(t,r);I[Dt()>>2]=60*i,I[Ft()>>2]=Number(t!=r),n=e(n),a=e(a),n=U(n),a=U(a),r<t?(I[At()>>2]=n,I[At()+4>>2]=a):(I[At()>>2]=a,I[At()+4>>2]=n)}()),e=new Date(1e3*I[e>>2]),I[t>>2]=e.getSeconds(),I[t+4>>2]=e.getMinutes(),I[t+8>>2]=e.getHours(),I[t+12>>2]=e.getDate(),I[t+16>>2]=e.getMonth(),I[t+20>>2]=e.getFullYear()-1900,I[t+24>>2]=e.getDay();var n=new Date(e.getFullYear(),0,1);I[t+28>>2]=(e.getTime()-n.getTime())/864e5|0,I[t+36>>2]=-60*e.getTimezoneOffset();var a=new Date(e.getFullYear(),6,1).getTimezoneOffset();return e=0|(a!=(n=n.getTimezoneOffset())&&e.getTimezoneOffset()==Math.min(n,a)),I[t+32>>2]=e,e=I[At()+(e?4:0)>>2],I[t+40>>2]=e,t},x:function(e,t){try{var n;if(e=$(e),-8&t)var a=-28;else(n=Pe(e,{Xa:!0}).node)?(e="",4&t&&(e+="r"),2&t&&(e+="w"),1&t&&(e+="x"),a=e&&ze(n,e)?-2:0):a=-44;return a}catch(e){return void 0!==gt&&e instanceof Te||oe(e),-e.Pa}},G:function(e,t){try{return nt(e=$(e),t),0}catch(e){return void 0!==gt&&e instanceof Te||oe(e),-e.Pa}},B:function(e){try{return at(e=$(e)),0}catch(e){return void 0!==gt&&e instanceof Te||oe(e),-e.Pa}},H:function(e,t){try{var n=Se[e];if(!n)throw new Te(8);return nt(n.node,t),0}catch(e){return void 0!==gt&&e instanceof Te||oe(e),-e.Pa}},C:function(e){try{var t=Se[e];if(!t)throw new Te(8);return at(t.node),0}catch(e){return void 0!==gt&&e instanceof Te||oe(e),-e.Pa}},b:function(e,t,n){wt=n;try{var a=Et(e);switch(t){case 0:var r=_t();return 0>r?-28:it(a.path,a.flags,0,r).fd;case 1:case 2:case 13:case 14:return 0;case 3:return a.flags;case 4:return r=_t(),a.flags|=r,0;case 12:return r=_t(),R[r+0>>1]=2,0;case 16:case 8:default:return-28;case 9:return I[jt()>>2]=28,-1}}catch(e){return void 0!==gt&&e instanceof Te||oe(e),-e.Pa}},F:function(e,t){try{return yt(et,Et(e).path,t)}catch(e){return void 0!==gt&&e instanceof Te||oe(e),-e.Pa}},D:function(e,t,n){try{var a=Se[e];if(!a)throw new Te(8);if(0==(2097155&a.flags))throw new Te(28);return rt(a.node,n),0}catch(e){return void 0!==gt&&e instanceof Te||oe(e),-e.Pa}},t:function(e,t){try{return 0===t?-28:t<G("/")+1?-68:(W("/",B,e,t),e)}catch(e){return void 0!==gt&&e instanceof Te||oe(e),-e.Pa}},s:function(){return 0},d:function(){return 42},J:function(e,t){try{return yt(tt,e=$(e),t)}catch(e){return void 0!==gt&&e instanceof Te||oe(e),-e.Pa}},I:function(e,t){try{return"/"===(e=fe(e=$(e)))[e.length-1]&&(e=e.substr(0,e.length-1)),Qe(e,t),0}catch(e){return void 0!==gt&&e instanceof Te||oe(e),-e.Pa}},k:function(e,t,n,a,r,i){try{e:{i<<=12;var o=!1;if(0!=(16&a)&&0!=e%65536)var l=-28;else{if(0!=(32&a)){var s=_e(t);if(!s){l=-48;break e}o=!0}else{var u=Se[r];if(!u){l=-8;break e}var c=i;if(0!=(2&n)&&0==(2&a)&&2!=(2097155&u.flags))throw new Te(2);if(1==(2097155&u.flags))throw new Te(2);if(!u.Ma.gb)throw new Te(43);var d=u.Ma.gb(u,e,t,c,n,a);s=d.Mb,o=d.jb}bt[s]={Jb:s,Ib:t,jb:o,fd:r,Lb:n,flags:a,offset:i},l=s}}return l}catch(e){return void 0!==gt&&e instanceof Te||oe(e),-e.Pa}},j:function(e,t){try{var n=bt[e];if(0!==t&&n){if(t===n.Ib){var a=Se[n.fd];if(a&&2&n.Lb){var r=n.flags,i=n.offset,o=B.slice(e,e+t);a&&a.Ma.hb&&a.Ma.hb(a,o,i,t,r)}bt[e]=null,n.jb&&Ct(n.Jb)}var l=0}else l=-28;return l}catch(e){return void 0!==gt&&e instanceof Te||oe(e),-e.Pa}},h:function(e,t,n){wt=n;try{return it($(e),t,n?_t():0).fd}catch(e){return void 0!==gt&&e instanceof Te||oe(e),-e.Pa}},E:function(e,t,n){try{if(e=$(e),0>=n)var a=-28;else{var r=Xe(e),i=Math.min(n,G(r)),o=D[t+i];W(r,B,t,n+1),D[t+i]=o,a=i}return a}catch(e){return void 0!==gt&&e instanceof Te||oe(e),-e.Pa}},y:function(e){try{var t=Pe(e=$(e),{parent:!0}).node,n=me(e),a=Be(t,n),r=$e(t,n,!0);if(r)throw new Te(r);if(!t.La.rmdir)throw new Te(63);if(a.$a)throw new Te(10);try{je.willDeletePath&&je.willDeletePath(e)}catch(t){_("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}t.La.rmdir(t,n),De(a);try{je.onDeletePath&&je.onDeletePath(e)}catch(t){_("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}return 0}catch(e){return void 0!==gt&&e instanceof Te||oe(e),-e.Pa}},f:function(e,t){try{return yt(et,e=$(e),t)}catch(e){return void 0!==gt&&e instanceof Te||oe(e),-e.Pa}},u:function(e){try{return Ze(e=$(e)),0}catch(e){return void 0!==gt&&e instanceof Te||oe(e),-e.Pa}},i:function(){return 2147483648},m:function(e,t,n){B.copyWithin(e,t,t+n)},c:function(e){var t=B.length;if(2147483648<(e>>>=0))return!1;for(var n=1;4>=n;n*=2){var a=t*(1+.2/n);a=Math.min(a,e+100663296),0<(a=Math.max(e,a))%65536&&(a+=65536-a%65536);e:{try{L.grow(Math.min(2147483648,a)-F.byteLength+65535>>>16),V();var r=1;break e}catch(e){}r=void 0}if(r)return!0}return!1},q:function(e){for(var t=vt();vt()-t<e;);},o:function(e,t){var n=0;return St().forEach((function(a,r){var i=t+n;for(r=I[e+4*r>>2]=i,i=0;i<a.length;++i)D[r++>>0]=a.charCodeAt(i);D[r>>0]=0,n+=a.length+1})),0},p:function(e,t){var n=St();I[e>>2]=n.length;var a=0;return n.forEach((function(e){a+=e.length+1})),I[t>>2]=a,0},e:function(e){try{return ot(Et(e)),0}catch(e){return void 0!==gt&&e instanceof Te||oe(e),e.Pa}},n:function(e,t){try{var n=Et(e);return D[t>>0]=n.tty?2:Ie(n.mode)?3:40960==(61440&n.mode)?7:4,0}catch(e){return void 0!==gt&&e instanceof Te||oe(e),e.Pa}},z:function(e,t,n,a){try{e:{for(var r=Et(e),i=e=0;i<n;i++){var o=I[t+(8*i+4)>>2],l=st(r,D,I[t+8*i>>2],o,void 0);if(0>l){var s=-1;break e}if(e+=l,l<o)break}s=e}return I[a>>2]=s,0}catch(e){return void 0!==gt&&e instanceof Te||oe(e),e.Pa}},l:function(e,t,n,a,r){try{var i=Et(e);return-9007199254740992>=(e=4294967296*n+(t>>>0))||9007199254740992<=e?-61:(lt(i,e,a),te=[i.position>>>0,(ee=i.position,1<=+Math.abs(ee)?0<ee?(0|Math.min(+Math.floor(ee/4294967296),4294967295))>>>0:~~+Math.ceil((ee-+(~~ee>>>0))/4294967296)>>>0:0)],I[r>>2]=te[0],I[r+4>>2]=te[1],i.nb&&0===e&&0===a&&(i.nb=null),0)}catch(e){return void 0!==gt&&e instanceof Te||oe(e),e.Pa}},w:function(e){try{var t=Et(e);return t.Ma&&t.Ma.fsync?-t.Ma.fsync(t):0}catch(e){return void 0!==gt&&e instanceof Te||oe(e),e.Pa}},v:function(e,t,n,a){try{e:{for(var r=Et(e),i=e=0;i<n;i++){var o=ut(r,D,I[t+8*i>>2],I[t+(8*i+4)>>2],void 0);if(0>o){var l=-1;break e}e+=o}l=e}return I[a>>2]=l,0}catch(e){return void 0!==gt&&e instanceof Te||oe(e),e.Pa}},g:function(e){var t=Date.now();return I[e>>2]=t/1e3|0,I[e+4>>2]=t%1e3*1e3|0,0},K:function(e){var t=Date.now()/1e3|0;return e&&(I[e>>2]=t),t},A:function(e,t){if(t){var n=t+8;t=1e3*I[n>>2],t+=I[n+4>>2]/1e3}else t=Date.now();e=$(e);try{var a=Pe(e,{Xa:!0}).node;a.La.Sa(a,{timestamp:Math.max(t,t)});var r=0}catch(e){if(!(e instanceof Te)){e:{if(!(r=Error()).stack){try{throw Error()}catch(e){r=e}if(!r.stack){r="(no stack trace available)";break e}}r=r.stack.toString()}throw i.extraStackTrace&&(r+="\n"+i.extraStackTrace()),r=function(e){return e.replace(/\b_Z[\w\d_]+/g,(function(e){return e==e?e:e+" ["+e+"]"}))}(r),e+" : "+r}r=e.Pa,I[jt()>>2]=r,r=-1}return r}};!function(){function e(e){i.asm=e.exports,L=i.asm.L,V(),H=i.asm.Ca,J.unshift(i.asm.M),ae--,i.monitorRunDependencies&&i.monitorRunDependencies(ae),0==ae&&(null!==re&&(clearInterval(re),re=null),ie&&(e=ie,ie=null,e()))}function t(t){e(t.instance)}function n(e){return function(){if(!x&&(g||b)){if("function"==typeof fetch&&!X.startsWith("file://"))return fetch(X,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+X+"'";return e.arrayBuffer()})).catch((function(){return ue()}));if(d)return new Promise((function(e,t){d(X,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return ue()}))}().then((function(e){return WebAssembly.instantiate(e,a)})).then((function(e){return e})).then(e,(function(e){_("failed to asynchronously prepare wasm: "+e),oe(e)}))}var a={a:Lt};if(ae++,i.monitorRunDependencies&&i.monitorRunDependencies(ae),i.instantiateWasm)try{return i.instantiateWasm(a,e)}catch(e){return _("Module.instantiateWasm callback failed with error: "+e),!1}x||"function"!=typeof WebAssembly.instantiateStreaming||le()||X.startsWith("file://")||"function"!=typeof fetch?n(t):fetch(X,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,a).then(t,(function(e){return _("wasm streaming compile failed: "+e),_("falling back to ArrayBuffer instantiation"),n(t)}))}))}(),i.___wasm_call_ctors=function(){return(i.___wasm_call_ctors=i.asm.M).apply(null,arguments)},i._sqlite3_free=function(){return(i._sqlite3_free=i.asm.N).apply(null,arguments)};var jt=i.___errno_location=function(){return(jt=i.___errno_location=i.asm.O).apply(null,arguments)};i._sqlite3_step=function(){return(i._sqlite3_step=i.asm.P).apply(null,arguments)},i._sqlite3_finalize=function(){return(i._sqlite3_finalize=i.asm.Q).apply(null,arguments)},i._sqlite3_prepare_v2=function(){return(i._sqlite3_prepare_v2=i.asm.R).apply(null,arguments)},i._sqlite3_reset=function(){return(i._sqlite3_reset=i.asm.S).apply(null,arguments)},i._sqlite3_clear_bindings=function(){return(i._sqlite3_clear_bindings=i.asm.T).apply(null,arguments)},i._sqlite3_value_blob=function(){return(i._sqlite3_value_blob=i.asm.U).apply(null,arguments)},i._sqlite3_value_text=function(){return(i._sqlite3_value_text=i.asm.V).apply(null,arguments)},i._sqlite3_value_bytes=function(){return(i._sqlite3_value_bytes=i.asm.W).apply(null,arguments)},i._sqlite3_value_double=function(){return(i._sqlite3_value_double=i.asm.X).apply(null,arguments)},i._sqlite3_value_int=function(){return(i._sqlite3_value_int=i.asm.Y).apply(null,arguments)},i._sqlite3_value_type=function(){return(i._sqlite3_value_type=i.asm.Z).apply(null,arguments)},i._sqlite3_result_blob=function(){return(i._sqlite3_result_blob=i.asm._).apply(null,arguments)},i._sqlite3_result_double=function(){return(i._sqlite3_result_double=i.asm.$).apply(null,arguments)},i._sqlite3_result_error=function(){return(i._sqlite3_result_error=i.asm.aa).apply(null,arguments)},i._sqlite3_result_int=function(){return(i._sqlite3_result_int=i.asm.ba).apply(null,arguments)},i._sqlite3_result_int64=function(){return(i._sqlite3_result_int64=i.asm.ca).apply(null,arguments)},i._sqlite3_result_null=function(){return(i._sqlite3_result_null=i.asm.da).apply(null,arguments)},i._sqlite3_result_text=function(){return(i._sqlite3_result_text=i.asm.ea).apply(null,arguments)},i._sqlite3_column_count=function(){return(i._sqlite3_column_count=i.asm.fa).apply(null,arguments)},i._sqlite3_data_count=function(){return(i._sqlite3_data_count=i.asm.ga).apply(null,arguments)},i._sqlite3_column_blob=function(){return(i._sqlite3_column_blob=i.asm.ha).apply(null,arguments)},i._sqlite3_column_bytes=function(){return(i._sqlite3_column_bytes=i.asm.ia).apply(null,arguments)},i._sqlite3_column_double=function(){return(i._sqlite3_column_double=i.asm.ja).apply(null,arguments)},i._sqlite3_column_text=function(){return(i._sqlite3_column_text=i.asm.ka).apply(null,arguments)},i._sqlite3_column_type=function(){return(i._sqlite3_column_type=i.asm.la).apply(null,arguments)},i._sqlite3_column_name=function(){return(i._sqlite3_column_name=i.asm.ma).apply(null,arguments)},i._sqlite3_bind_blob=function(){return(i._sqlite3_bind_blob=i.asm.na).apply(null,arguments)},i._sqlite3_bind_double=function(){return(i._sqlite3_bind_double=i.asm.oa).apply(null,arguments)},i._sqlite3_bind_int=function(){return(i._sqlite3_bind_int=i.asm.pa).apply(null,arguments)},i._sqlite3_bind_text=function(){return(i._sqlite3_bind_text=i.asm.qa).apply(null,arguments)},i._sqlite3_bind_parameter_index=function(){return(i._sqlite3_bind_parameter_index=i.asm.ra).apply(null,arguments)},i._sqlite3_sql=function(){return(i._sqlite3_sql=i.asm.sa).apply(null,arguments)},i._sqlite3_normalized_sql=function(){return(i._sqlite3_normalized_sql=i.asm.ta).apply(null,arguments)},i._sqlite3_errmsg=function(){return(i._sqlite3_errmsg=i.asm.ua).apply(null,arguments)},i._sqlite3_exec=function(){return(i._sqlite3_exec=i.asm.va).apply(null,arguments)},i._sqlite3_changes=function(){return(i._sqlite3_changes=i.asm.wa).apply(null,arguments)},i._sqlite3_close_v2=function(){return(i._sqlite3_close_v2=i.asm.xa).apply(null,arguments)},i._sqlite3_create_function_v2=function(){return(i._sqlite3_create_function_v2=i.asm.ya).apply(null,arguments)},i._sqlite3_open=function(){return(i._sqlite3_open=i.asm.za).apply(null,arguments)};var Tt=i._malloc=function(){return(Tt=i._malloc=i.asm.Aa).apply(null,arguments)},Ct=i._free=function(){return(Ct=i._free=i.asm.Ba).apply(null,arguments)};i._RegisterExtensionFunctions=function(){return(i._RegisterExtensionFunctions=i.asm.Da).apply(null,arguments)};var Pt,At=i.__get_tzname=function(){return(At=i.__get_tzname=i.asm.Ea).apply(null,arguments)},Ft=i.__get_daylight=function(){return(Ft=i.__get_daylight=i.asm.Fa).apply(null,arguments)},Dt=i.__get_timezone=function(){return(Dt=i.__get_timezone=i.asm.Ga).apply(null,arguments)},Bt=i.stackSave=function(){return(Bt=i.stackSave=i.asm.Ha).apply(null,arguments)},Rt=i.stackRestore=function(){return(Rt=i.stackRestore=i.asm.Ia).apply(null,arguments)},It=i.stackAlloc=function(){return(It=i.stackAlloc=i.asm.Ja).apply(null,arguments)},qt=i._memalign=function(){return(qt=i._memalign=i.asm.Ka).apply(null,arguments)};function Nt(){function e(){if(!Pt&&(Pt=!0,i.calledRun=!0,!j)){if(i.noFSInit||We||(We=!0,ct(),i.stdin=i.stdin,i.stdout=i.stdout,i.stderr=i.stderr,i.stdin?ft("stdin",i.stdin):Ye("/dev/tty","/dev/stdin"),i.stdout?ft("stdout",null,i.stdout):Ye("/dev/tty","/dev/stdout"),i.stderr?ft("stderr",null,i.stderr):Ye("/dev/tty1","/dev/stderr"),it("/dev/stdin",0),it("/dev/stdout",1),it("/dev/stderr",1)),Le=!1,ce(J),i.onRuntimeInitialized&&i.onRuntimeInitialized(),i.postRun)for("function"==typeof i.postRun&&(i.postRun=[i.postRun]);i.postRun.length;){var e=i.postRun.shift();Y.unshift(e)}ce(Y)}}if(!(0<ae)){if(i.preRun)for("function"==typeof i.preRun&&(i.preRun=[i.preRun]);i.preRun.length;)Z();ce(Q),0<ae||(i.setStatus?(i.setStatus("Running..."),setTimeout((function(){setTimeout((function(){i.setStatus("")}),1),e()}),1)):e())}}if(i.cwrap=function(e,t,n,a){var r=(n=n||[]).every((function(e){return"number"===e}));return"string"!==t&&r&&!a?T(e):function(){return function(e,t,n,a){var r={string:function(e){var t=0;if(null!=e&&0!==e){var n=1+(e.length<<2);t=It(n),W(e,B,t,n)}return t},array:function(e){var t=It(e.length);return D.set(e,t),t}};e=T(e);var i,o=[],l=0;if(a)for(var s=0;s<a.length;s++){var u=r[n[s]];u?(0===l&&(l=Bt()),o[s]=u(a[s])):o[s]=a[s]}return i=n=e.apply(null,o),0!==l&&Rt(l),"string"===t?$(i):"boolean"===t?!!i:i}(e,t,n,arguments)}},i.UTF8ToString=$,i.stackSave=Bt,i.stackRestore=Rt,i.stackAlloc=It,ie=function e(){Pt||Nt(),Pt||(ie=e)},i.run=Nt,i.preInit)for("function"==typeof i.preInit&&(i.preInit=[i.preInit]);0<i.preInit.length;)i.preInit.pop()();return Nt(),o})),a)};e.exports=r,e.exports.default=r},1473:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;const r=a(n(9526)),i=a(n(470)),o=n(6324),l=n(9055),s=n(5924),u=n(3200),c=n(2363),d=n(5672),f=n(786),p=n(8256),m=n(693),h=n(2854),g=n(1775),b=n(3264),y=n(3100),v=n(6027),w=(n(5084),n(3696));t.App=()=>r.default.createElement(f.ProvideData2,null,r.default.createElement(g.ProvideAppState,null,r.default.createElement(x,null)));const _=i.default.div`
  display: flex;
  width: 100%;
  height: 100%;
  overflow: hidden;
`,E=()=>{const{agencies:e,lines:t}=(0,f.useData2)();return r.default.createElement(_,null,r.default.createElement(l.OverviewMap,{lines:t}),r.default.createElement(u.Controls,null),r.default.createElement(c.SettingsDrawer,null),r.default.createElement(m.LegendDrawer,{allAgencies:e}),r.default.createElement(d.Logo,null),r.default.createElement(b.SearchBar,null),!1)},x=()=>{const e=(0,o.useMediaQuery)("(prefers-color-scheme: dark)"),{appTheme:t}=(0,g.useAppState)(),n=r.default.useMemo((()=>{const n="system"===t&&e||"dark"===t;return(0,s.themeFactory)(n)}),[e,t]);return r.default.createElement(o.StyledEngineProvider,{injectFirst:!0},r.default.createElement(o.ThemeProvider,{theme:n},r.default.createElement(v.ProvideStrings,null,r.default.createElement(p.ProvideWindow,null,r.default.createElement(h.ProvideMapTarget,null,r.default.createElement(w.MapBoundsProvider,null,r.default.createElement(y.ProvideGeolocation,null,r.default.createElement(E,null))))))))}},1714:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.search=t.processBounds=t.processFeatures=t.prepDatabase=void 0;const r=a(n(7901)),i=a(n(2845));function o(e){return`"${e.replace(/\"/g,'""')}"`}t.prepDatabase=async function(){const e=new((await(0,r.default)()).Database);return e.run(i.default),e},t.processFeatures=async function(e,t){e.exec("BEGIN TRANSACTION;");const n=e.prepare("INSERT INTO stations_search VALUES($name, $description, $parent, $terms, $lines, $lng, $lat)");t.forEach((e=>{n.run(e)})),e.exec("COMMIT;")},t.processBounds=async function(e,t){e.exec("BEGIN TRANSACTION;");const n=e.prepare("INSERT INTO bounds_search VALUES($name, $description, $terms, $id, $type, $bounds)");t.forEach((e=>{n.run(e)})),e.exec("COMMIT;")},t.search=async function(e,t){const n=await async function(e,t,n=10){if(""===t)return[];const a=e.prepare("SELECT *, rank FROM stations_search WHERE stations_search MATCH $query || '*' ORDER BY rank LIMIT $limit");a.bind({$query:t,$limit:n});const r=[];for(;a.step();){const e=a.getAsObject(),t={...e,type:"station",lines:e.lines.split(",")};r.push(t)}return a.free(),r}(e,o(t)),a=await async function(e,t,n=10){if(""===t)return[];const a=e.prepare("SELECT *, rank FROM bounds_search WHERE bounds_search MATCH $query || '*' ORDER BY rank LIMIT $limit");a.bind({$query:t,$limit:n});const r=[];for(;a.step();){const e=a.getAsObject(),t={...e,bounds:JSON.parse(e.bounds)};r.push(t)}return a.free(),r}(e,o(t));return[...n,...a].sort(((e,t)=>e.rank-t.rank))}},5924:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.themeFactory=void 0;const a=n(6324);t.themeFactory=(e=!1)=>(0,a.createTheme)({palette:e?i:r});const r={mode:"light",primary:{main:"#cc0000"},secondary:{main:"#cc0000"}},i={mode:"dark",primary:{main:"#ff4f30"},secondary:{main:"#ff4f30"}}},1325:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isLineEnabled=t.useIsDarkTheme=void 0;const a=n(6324);t.useIsDarkTheme=e=>{const t=(0,a.useMediaQuery)("(prefers-color-scheme: dark)");return"system"===e&&t||"dark"===e},t.isLineEnabled=(e,t)=>{var n;if(void 0===e)return!0;if(e.startsWith("!")){const n=e.split(",");let a=!0;return n.forEach((e=>{var n;a&&(a=!(null!==(n=t[e.slice(1)])&&void 0!==n&&n))})),a}return null!==(n=t[e])&&void 0!==n&&n}},9568:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AgencySection=void 0;const l=n(6324),s=i(n(9526)),u=o(n(470)),c=(u.default.div`
  display: flex;
  width: 100%;
  flex-direction: row;
  gap: 8px;
`,(0,u.default)(l.Card)`
  aspect-ratio: 1;
  height: 156px;
  flex-shrink: 0;
`,u.default.div`
  width: 5px;
  background-color: ${e=>e.tint};
  display: flex;
  align-self: stretch;
  margin: ${({theme:e})=>e.spacing(1)};
`),d=e=>s.default.createElement(l.ListItemButton,{dense:!0,key:e.id},e.icon&&s.default.createElement(l.ListItemAvatar,null,s.default.createElement("img",{src:`icons/${e.icon}`})),s.default.createElement(c,{tint:e.color}),s.default.createElement(l.ListItemText,{primary:e.name,secondary:e.description}));t.AgencySection=e=>{const t=(0,l.useTheme)(),n=(0,s.useMemo)((()=>e.metadata.filter((e=>null!=e.filterKey))),[e.metadata]);return s.default.createElement("div",null,s.default.createElement(l.Typography,{variant:"h6",style:{padding:t.spacing(0,2)}},e.agency.name),s.default.createElement(l.List,null,e.metadata.filter((e=>null==e.filterKey)).map((e=>s.default.createElement(d,{...e}))),n.length>0&&s.default.createElement(l.Typography,{variant:"body2",style:{padding:t.spacing(1,2)}},"Planned"),n.map((e=>s.default.createElement(d,{...e})))))}},5084:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BottomSheet=void 0;const l=i(n(9526)),s=n(6324),u=o(n(470)),c=n(4134),d=n(3696),f=n(2081),p=o(n(4125)),m=o(n(858)),h=n(9568),g={};f.config.agencies.forEach((e=>{g[e.id]=e}));const b={};Object.values(p.default).forEach((e=>{const t=e.agency;null==b[t]&&(b[t]=[]),"rail-line"!==e.type&&"streetcar-line"!==e.type||b[t].push(e)}));const y=(0,u.default)(s.Paper)`
  position: fixed;
  width: 35vw;
  min-width: 500px;
  left: ${({theme:e})=>e.spacing(1)};
  bottom: ${({open:e})=>e?0:"-50vh"};
  z-index: 50;
  border-radius: 16px 16px 0 0;
  overflow: hidden;
  box-sizing: border-box;
  transition: ${({theme:e})=>e.transitions.create("bottom")};

  @media (max-width: 600px) {
    min-width: 0;
    width: 100%;
    left: 0;
  }
`,v=(0,u.default)(s.ButtonBase)`
  height: ${({theme:e})=>e.spacing(7)};
  width: 100%;
  padding: ${({theme:e})=>e.spacing(0,2)};
  display: flex;
  box-sizing: border-box;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
`,w=u.default.div`
  height: 50vh;
  width: 100%;
  padding: ${({theme:e})=>e.spacing(0)};
  display: flex;
  box-sizing: border-box;
`,_=e=>l.default.createElement(v,{onClick:e.onClick},l.default.createElement(s.Typography,null,"On the Map",e.regionName&&` • ${e.regionName}`),l.default.createElement(c.Chevron,{down:!e.expanded}));t.BottomSheet=()=>{const e=(0,l.useContext)(d.MapBoundsContext),[t,n]=(0,l.useState)(null),[a,r]=(0,l.useState)(!1),[i,o]=(0,l.useState)([]);return(0,l.useEffect)((()=>{var t,a,r;const{tier1:i,tier2:l}=e;1===l.length?(n(l[0].title),o(l[0].agencies.map((e=>g[e])))):(n(null===(t=i[0])||void 0===t?void 0:t.title),o(null!==(r=null===(a=i[0])||void 0===a?void 0:a.agencies.map((e=>g[e])))&&void 0!==r?r:[]))}),[e]),l.default.createElement(y,{elevation:open?2:0,open:a},l.default.createElement(_,{expanded:a,onClick:()=>r((e=>!e)),regionName:t}),l.default.createElement(w,null,l.default.createElement(m.default,null,i.map((e=>l.default.createElement(h.AgencySection,{key:e.id,agency:e,metadata:b[e.id]}))))))}},4134:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Chevron=void 0;const r=a(n(470));t.Chevron=r.default.div`
  display: inline-block;
  margin-top: 4px;
  width: 24px;
  height: 20px;
  &:before {
    width: 3px;
    height: 10px;
    transition: all 0.5s cubic-bezier(0.33, 1, 0.68, 1);
    display: inline-block;
    border-radius: 2px;
    background: ${e=>{var t;return null!==(t=e.color)&&void 0!==t?t:"#FFFFFF"}};
    transform: ${e=>e.down?"rotate(-135deg)":"rotate(-45deg)"};
    content: "";
    margin-left: 7px;
  }
  &:after {
    width: 3px;
    height: 10px;
    transition: all 0.5s cubic-bezier(0.33, 1, 0.68, 1);
    display: inline-block;
    border-radius: 2px;
    background: ${e=>{var t;return null!==(t=e.color)&&void 0!==t?t:"#FFFFFF"}};
    transform: ${e=>e.down?"rotate(-45deg)":"rotate(-135deg)"};
    content: "";
    margin-left: 3px;
  }
`},4650:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ControlPaper=void 0;const r=a(n(470)),i=n(6324);t.ControlPaper=(0,r.default)(i.Paper)`
  margin: ${({theme:e})=>e.spacing(.5)} 0;

  &:first-of-type {
    margin-top: 0;
  }

  &:last-of-type {
    margin-bottom: 0;
  }
`},3071:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.MapIcon=void 0;const o=i(n(9526)),l=n(2024);t.MapIcon=({width:e,height:t,...n})=>{const a=window.devicePixelRatio,r=(0,o.useRef)(new Image(e*a,t*a)),{current:i}=(0,l.useMap)(),s=()=>{i.hasImage(n.id)||i.addImage(n.id,r.current,{pixelRatio:a})};return(0,o.useEffect)((()=>{const e=r.current;return e.onload=()=>{s()},e.src=n.url,i.on("styleimagemissing",(e=>{e.id===n.id&&s()})),()=>{i.hasImage(n.id)&&i.removeImage(n.id)}}),[]),o.default.createElement(o.default.Fragment,null)}},6587:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Lines=void 0;const o=i(n(9526)),l=n(2024),s=n(9055),u=n(1325),c=n(1775),d={};t.Lines=o.default.memo((({showLineLabels:e,filterList:t})=>{const{labelStyle:n}=(0,o.useContext)(s.LabelProviderContext),{appTheme:a}=(0,c.useAppState)(),r=(0,u.useIsDarkTheme)(a),[i,f]=(0,o.useState)(null);return(0,o.useEffect)((()=>{f({type:"geojson",data:{type:"FeatureCollection",features:[]}}),fetch("assembled.json").then((e=>e.json())).then((e=>f({type:"geojson",data:e})))}),[]),o.default.createElement(l.Source,{id:"raildata",...i},o.default.createElement(l.Layer,{id:"yard-tracks",...d,type:"line",filter:["all",["==",["get","type"],"tracks"],["in",["get","class"],["literal",["rail-yard","streetcar-yard"]]],["!",["in",["get","filterKey"],["literal",t]]]],layout:{"line-join":"round","line-cap":"round","line-sort-key":["get","layer"]},paint:{"line-color":"#818181","line-width":["case",["==",["get","class"],"streetcar-yard"],2,3],"line-offset":["*",["get","offset"],["case",["==",["get","class"],"streetcar-yard"],2,3]]}}),o.default.createElement(l.Layer,{id:"rail-tunnel",...d,type:"fill",filter:["all",["==",["get","type"],"tunnel"],["!",["in",["get","filterKey"],["literal",t]]]],minzoom:14,layout:{"fill-sort-key":["get","layer"]},paint:{"fill-color":"#212121","fill-opacity":["interpolate",["linear"],["zoom"],14,0,15,.3]}}),o.default.createElement(l.Layer,{id:"rail-platforms",...d,type:"fill",filter:["all",["==",["get","type"],"station-platforms"],["!",["in",["get","filterKey"],["literal",t]]]],layout:{"fill-sort-key":["get","layer"]},paint:{"fill-color":["get","color"],"fill-opacity":.68}}),o.default.createElement(l.Layer,{id:"rail-platforms-future",...d,type:"line",filter:["all",["==",["get","type"],"station-platforms-future"],["!",["in",["get","filterKey"],["literal",t]]]],layout:{"line-sort-key":["get","layer"]},paint:{"line-color":["get","color"],"line-dasharray":[3,3],"line-width":1.5}}),o.default.createElement(l.Layer,{id:"rail-alignment",...d,type:"line",filter:["all",["==",["get","type"],"alignment"],["!",["in",["get","filterKey"],["literal",t]]]],layout:{"line-join":"round","line-cap":"round","line-sort-key":["get","layer"]},paint:{"line-color":["get","color"],"line-opacity":["interpolate",["linear"],["zoom"],14,1,20,.3],"line-width":["interpolate",["exponential",2],["zoom"],14,3,20,150],"line-offset":["interpolate",["exponential",2],["zoom"],14,["*",["get","offset"],3],20,["*",["get","offset"],150]]}}),o.default.createElement(l.Layer,{id:"tram",...d,type:"line",filter:["all",["==",["get","type"],"tram"],["!",["in",["get","filterKey"],["literal",t]]]],layout:{"line-join":"round","line-cap":"round","line-sort-key":["get","layer"]},paint:{"line-color":["get","color"],"line-opacity":["interpolate",["linear"],["zoom"],14,1,20,.5],"line-width":["interpolate",["exponential",2],["zoom"],14,6,20,150],"line-offset":["interpolate",["exponential",2],["zoom"],14,["*",["get","offset"],6],20,["*",["get","offset"],150]]}}),o.default.createElement(l.Layer,{id:"tramstrike",...d,type:"line",filter:["all",["==",["get","type"],"tramstrike"],["!",["in",["get","filterKey"],["literal",t]]]],layout:{"line-join":"round","line-cap":"round","line-sort-key":["get","layer"]},paint:{"line-color":"#FFFFFF","line-opacity":["interpolate",["linear"],["zoom"],14,1,20,.3],"line-width":["interpolate",["exponential",2],["zoom"],14,1,20,25],"line-offset":["interpolate",["exponential",2],["zoom"],14,["*",["get","offset"],6],20,["*",["get","offset"],150]]}}),o.default.createElement(l.Layer,{id:"tramstrikedark",...d,type:"line",filter:["all",["==",["get","type"],"tramstrikedark"],["!",["in",["get","filterKey"],["literal",t]]]],layout:{"line-join":"round","line-cap":"round","line-sort-key":["get","layer"]},paint:{"line-color":"#000000","line-opacity":["interpolate",["linear"],["zoom"],14,1,20,.3],"line-width":["interpolate",["exponential",2],["zoom"],14,1,20,25],"line-offset":["interpolate",["exponential",2],["zoom"],14,["*",["get","offset"],6],20,["*",["get","offset"],150]]}}),o.default.createElement(l.Layer,{id:"brt",...d,type:"line",filter:["all",["==",["get","type"],"brt"],["!",["in",["get","filterKey"],["literal",t]]]],layout:{"line-join":"round","line-cap":"round","line-sort-key":["get","layer"]},paint:{"line-color":["get","color"],"line-opacity":["interpolate",["linear"],["zoom"],14,1,20,.5],"line-width":["interpolate",["exponential",2],["zoom"],14,4,20,100],"line-offset":["interpolate",["exponential",2],["zoom"],14,["*",["get","offset"],6],20,["*",["get","offset"],150]]}}),o.default.createElement(l.Layer,{id:"brtpunch",...d,type:"line",filter:["all",["==",["get","type"],"brtpunch"],["!",["in",["get","filterKey"],["literal",t]]]],layout:{"line-join":"round","line-cap":"round","line-sort-key":["get","layer"]},paint:{"line-color":"#000000","line-opacity":["interpolate",["linear"],["zoom"],14,1,20,.3],"line-width":["interpolate",["exponential",2],["zoom"],14,3,20,75],"line-offset":["interpolate",["exponential",2],["zoom"],14,["*",["get","offset"],6],20,["*",["get","offset"],150]],"line-dasharray":[2,4]}}),o.default.createElement(l.Layer,{id:"tracks",...d,type:"line",filter:["all",["==",["get","type"],"tracks"],["!",["in",["get","filterKey"],["literal",t]]]],layout:{"line-join":"round","line-cap":"round","line-sort-key":["get","layer"]},paint:{"line-color":["get","color"],"line-width":3,"line-offset":["*",["get","offset"],3]}}),o.default.createElement(l.Layer,{id:"rail-tracks",...d,type:"line",filter:["all",["==",["get","type"],"tracks"],["==",["get","class"],"rail-line"],["!",["in",["get","filterKey"],["literal",t]]]],layout:{"line-join":"round","line-cap":"round","line-sort-key":["get","layer"]},paint:{"line-color":["get","color"],"line-width":3,"line-offset":["*",["get","offset"],3]}}),o.default.createElement(l.Layer,{id:"streetcar-tracks",...d,type:"line",filter:["all",["==",["get","type"],"tracks"],["==",["get","class"],"streetcar-line"],["!",["in",["get","filterKey"],["literal",t]]]],layout:{"line-join":"round","line-cap":"round","line-sort-key":["get","layer"]},paint:{"line-color":["get","color"],"line-width":1.5,"line-offset":["*",["get","offset"],1.5]}}),o.default.createElement(l.Layer,{id:"rail-tracks-future",...d,type:"line",filter:["all",["==",["get","type"],"tracks-future"],["!",["in",["get","filterKey"],["literal",t]]]],layout:{"line-join":"round","line-cap":"round","line-sort-key":["get","layer"]},paint:{"line-color":["get","color"],"line-width":3,"line-dasharray":[3,3]}}),o.default.createElement(l.Layer,{id:"rail-overpass",...d,type:"line",filter:["all",["==",["get","type"],"overpass"],["!",["in",["get","filterKey"],["literal",t]]]],minzoom:14,layout:{"line-join":"round","line-cap":"butt","line-sort-key":["get","layer"]},paint:{"line-color":["get","color"],"line-width":1,"line-gap-width":["interpolate",["exponential",2],["zoom"],15,0,18,15],"line-offset":["*",["get","offset"],3]}}),o.default.createElement(l.Layer,{id:"rail-connector-labels-dash",...d,type:"line",filter:["all",["==",["get","type"],"station-connector-label"],["!",["in",["get","filterKey"],["literal",t]]]],minzoom:15,layout:{"line-cap":"round"},paint:{"line-width":2,"line-color":r?"#FFFFFF":"#212121","line-gap-width":10,"line-dasharray":[4,4]}}),o.default.createElement(l.Layer,{id:"streetcar-rail-station",...d,type:"circle",filter:["all",["==",["get","type"],"station-label"],["==",["get","class"],"streetcar-line"],["!",["in",["get","filterKey"],["literal",t]]]],minzoom:11,layout:{},paint:{"circle-color":"#FFFFFF","circle-stroke-color":["get","color"],"circle-stroke-width":2,"circle-radius":["interpolate",["exponential",2],["zoom"],10,2,17,6],"circle-pitch-alignment":"map"}}),o.default.createElement(l.Layer,{id:"rail-station",...d,type:"circle",filter:["all",["==",["get","type"],"station-label"],["==",["get","class"],"rail-line"],["!",["in",["get","filterKey"],["literal",t]]]],layout:{},paint:{"circle-color":"#ffffff","circle-stroke-color":"#212121","circle-stroke-width":2,"circle-radius":["interpolate",["linear"],["zoom"],10,2,13.5,6],"circle-pitch-alignment":"map"}}),o.default.createElement(l.Layer,{id:"rail-connector-labels-bg",...d,type:"line",filter:["all",["==",["get","type"],"station-connector-label"],["!",["in",["get","filterKey"],["literal",t]]]],maxzoom:16,layout:{"line-cap":"round"},paint:{"line-width":["interpolate",["linear"],["zoom"],10,8,13.5,16],"line-color":"#212121","line-opacity":["interpolate",["linear"],["zoom"],15,1,16,0]}}),o.default.createElement(l.Layer,{id:"rail-connector-labels",...d,type:"line",filter:["all",["==",["get","type"],"station-connector-label"],["!",["in",["get","filterKey"],["literal",t]]]],maxzoom:16,layout:{"line-cap":"round"},paint:{"line-width":["interpolate",["linear"],["zoom"],10,4,13.5,12],"line-color":"#FFFFFF","line-opacity":["interpolate",["linear"],["zoom"],15,1,16,0]}}),e&&o.default.createElement(l.Layer,{id:"yard-labels",...d,type:"symbol",filter:["all",["==",["get","type"],"yard-label"],["!",["in",["get","filterKey"],["literal",t]]]],minzoom:14,layout:{"text-field":["get","name"],"text-anchor":"center","text-optional":!0,"text-font":["Inter Bold"],"text-size":16,"icon-image":"label-background","icon-text-fit":"both","icon-text-fit-padding":[1,4,0,4]},paint:{"text-color":"#FFFFFF"}}),e&&o.default.createElement(l.Layer,{id:"rail-labels",...d,type:"symbol",filter:["all",["==",["get","class"],"rail-line"],["==",["get","type"],"station-label"],["!",["in",["get","filterKey"],["literal",t]]],[">=",["zoom"],["match",["get","scale"],"large",7,13]]],layout:{"text-field":n,"text-anchor":"left","text-offset":[.75,0],"text-font":["Inter Bold"],"text-size":16,"icon-image":"label-background","icon-text-fit":"both","icon-text-fit-padding":[1,4,0,4]},paint:{"text-color":"#FFFFFF"}}),e&&o.default.createElement(l.Layer,{id:"streetcar-labels",...d,type:"symbol",filter:["all",["==",["get","class"],"streetcar-line"],["==",["get","type"],"station-label"],["!",["in",["get","filterKey"],["literal",t]]]],minzoom:15,layout:{"text-field":n,"text-anchor":"left","text-offset":[.75,0],"text-font":["Inter Bold"],"text-size":16,"icon-image":"label-background","icon-text-fit":"both","icon-text-fit-padding":[1,4,0,4]},paint:{"text-color":"#FFFFFF"}}),e&&o.default.createElement(l.Layer,{id:"rail-labels-major",...d,type:"symbol",filter:["all",["==",["get","type"],"station-label"],["==",["get","major"],!0],["!",["in",["get","filterKey"],["literal",t]]],["<",["zoom"],["match",["get","scale"],"large",7,13]],[">=",["zoom"],["match",["get","scale"],"large",4,9]]],layout:{"text-field":n,"text-anchor":"left","text-offset":[.75,0],"text-font":["Inter Bold"],"text-size":16,"icon-image":"label-background","icon-text-fit":"both","icon-text-fit-padding":[1,4,0,4]},paint:{"text-color":"#FFFFFF"}}))}))},5672:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Logo=void 0;const r=a(n(9526)),i=n(1325),o=a(n(8959)),l=a(n(2560)),s=n(1775),u=a(n(470)).default.img`
  position: fixed;
  width: 140px;
  bottom: ${({theme:e})=>e.spacing(2)};
  left: calc(50% - 70px);
`;t.Logo=()=>{const{appTheme:e}=(0,s.useAppState)(),t=(0,i.useIsDarkTheme)(e);return r.default.createElement("a",{href:"https://www.dunrae.com"},r.default.createElement(u,{alt:"OT67 Logo",src:t?l.default:o.default}))}},9055:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.OverviewMap=t.LabelProviderContext=void 0;const l=i(n(9526)),s=i(n(2024));n(99);const u=n(6587),c=n(1325),d=n(3071),f=n(8256),p=o(n(4507)),m=n(2854),h=n(1775),g=n(148),b=n(2081),y=n(8895),v=n(3100),w=o(n(6208)),_=n(3696),E=(e,t)=>{const n={...e};return t.filter((e=>{var t;return!(null===(t=e.filterKey)||void 0===t?void 0:t.startsWith("!"))})).forEach((e=>{e.filterKey&&!n.hasOwnProperty(e.filterKey)&&(n[e.filterKey]=!1)})),[...Object.entries(n).filter((([e,t])=>!t)).map((([e])=>e)),...Object.entries(n).filter((([e,t])=>t)).map((([e])=>`!${e}`))]};t.LabelProviderContext=l.default.createContext({labelStyle:[]});const x={type:"FeatureCollection",features:b.config.regions.flatMap((e=>[{type:"Feature",bbox:e.bbox,geometry:{type:"Point",coordinates:e.location},properties:{type:"region-label",id:e.id,name:e.title,target:e.bbox}},(0,w.default)(e.bbox,{properties:{type:"region-bounds",id:e.id,name:e.title,target:e.bbox}})]))},O=null!=localStorage.viewport?JSON.parse(localStorage.viewport):null,S=O?{longitude:O[0],latitude:O[1],zoom:O[2],bearing:O[3]}:{longitude:-75.7,latitude:45.35,zoom:10.5};t.OverviewMap=e=>{const n=(0,g.useTheme)(),a=(0,f.useWindow)(),{legendDrawerOpen:r,settingsDrawerOpen:i,appTheme:o,mapStyle:b,show3DBuildings:w,showLabels:O,lineFilterState:k,showGeolocation:M,debugShowRegionBounds:L,setMapBounds:j}=(0,h.useAppState)(),T=(0,l.useRef)(),{target:C,setTarget:P}=(0,m.useMapTarget)();(0,l.useEffect)((()=>{var e;if(null!=C){const t=null===(e=T.current)||void 0===e?void 0:e.getMap();null==t||t.fitBounds(C,{padding:64})}}),[C]),(0,l.useEffect)((()=>{var e,t;const o=i||r;if(a[0]>n.breakpoints.values.md){const n={right:o?420:0};null===(t=null===(e=T.current)||void 0===e?void 0:e.getMap())||void 0===t||t.easeTo({padding:n})}}),[i,r,a]);const A=(0,c.useIsDarkTheme)(o),[F,D]=(0,l.useState)("satellite"===b?"mapbox://styles/mapbox/satellite-streets-v11":A?"mapbox://styles/mapbox/dark-v11":"mapbox://styles/mapbox/streets-v12"),[B,R]=(0,l.useState)([]),[I,q]=(0,l.useState)(null);(0,l.useEffect)((()=>{D("satellite"===b?"mapbox://styles/mapbox/satellite-streets-v11":A?"mapbox://styles/mapbox/dark-v11":"mapbox://styles/mapbox/streets-v12")}),[A,o,b]),(0,l.useEffect)((()=>{var t,n;R((t=e.lines,n=k,["format",["get","name"],{}," ",{},...Object.values(t).filter((e=>null!=e.icon&&(0,c.isLineEnabled)(e.filterKey,n))).map((e=>e.id)).sort().flatMap((e=>[["case",["in",e,["get","lines"]],["image",e],""],{}]))]))}),[e.lines,k]);const[N,z]=(0,l.useState)([]);(0,l.useEffect)((()=>{z(O?["rail-station","rail-labels","yard-labels","regions-labels"]:["rail-station","regions-labels"])}),[O]);const{geolocation:K}=(0,v.useGeolocation)();return l.default.createElement(s.default,{style:{width:a[0],height:a[1]},mapStyle:F,mapboxAccessToken:"pk.eyJ1IjoiZHVueCIsImEiOiJja2UzYW96a2YwNGswMnJwbGJvcnRtejZpIn0.1hCPG-T_q9josI-gyJJUAw",hash:!0,onMoveEnd:e=>{P(void 0);const{longitude:t,latitude:n,zoom:a,bearing:r}=e.viewState;var i;i=[t,n,a,null!=r?r:0],localStorage.viewport=JSON.stringify(i),(0,_.postNewBounds)(e.target.getBounds())},onClick:e=>{if(null!=e.features)for(let t of e.features){if("station-label"===t.properties.type){null!=t.properties.url&&"null"!==t.properties.url&&(window.parent.location.href=t.properties.url);break}if("region-label"===t.properties.type){P(JSON.parse(t.properties.target));break}}},onMouseEnter:e=>{var t,n;const a=null===(n=null===(t=T.current)||void 0===t?void 0:t.getMap())||void 0===n?void 0:n.getCanvas();if(null!=a&&(a.style.cursor="pointer",e.features.length>0)){const t=e.features[0];null!=t.properties.url&&"Point"===t.geometry.type&&q(t.geometry.coordinates)}},onMouseLeave:e=>{var t,n;const a=null===(n=null===(t=T.current)||void 0===t?void 0:t.getMap())||void 0===n?void 0:n.getCanvas();null!=a&&(a.style.cursor="",q(null))},onMove:e=>{(0,_.postNewBounds)(e.target.getBounds())},onIdle:e=>{(0,_.postNewBounds)(e.target.getBounds())},ref:T,initialViewState:S,attributionControl:!1,maxPitch:85,interactiveLayerIds:N},l.default.createElement(s.AttributionControl,{compact:a[0]<=600,position:"bottom-right",customAttribution:`Updated on ${new Date(1709670235166).toLocaleDateString()}`}),l.default.createElement(t.LabelProviderContext.Provider,{value:{labelStyle:B}},Object.values(e.lines).filter((e=>null!=e.icon)).map((e=>l.default.createElement(d.MapIcon,{style:F,width:16,height:16,id:e.id,key:e.id,url:`icons/${e.icon}`}))),l.default.createElement(d.MapIcon,{style:F,width:24,height:24,id:"label-background",url:p.default}),l.default.createElement(s.Layer,{id:"sky",type:"sky",paint:{"sky-atmosphere-sun":A?[0,95]:[0,0]}}),w&&l.default.createElement(s.Layer,{id:"3d-buildings",source:"composite","source-layer":"building",filter:["==","extrude","true"],type:"fill-extrusion",minzoom:15,paint:{"fill-extrusion-color":A?"#212121":"#FFFFFF","fill-extrusion-height":["interpolate",["linear"],["zoom"],15,0,15.05,["get","height"]],"fill-extrusion-base":["interpolate",["linear"],["zoom"],15,0,15.05,["get","min_height"]],"fill-extrusion-opacity":.6}}),l.default.createElement(u.Lines,{showLineLabels:O,filterList:E(k,Object.values(e.lines))})),l.default.createElement(s.Source,{id:"regions",type:"geojson",data:x},l.default.createElement(s.Layer,{id:"regions-labels",type:"symbol",filter:["==",["get","type"],"region-label"],layout:{"text-field":["get","name"],"text-size":20},paint:{"text-color":A?"#FFFFFF":"#121212","text-halo-color":A?"#121212":"#FFFFFF","text-halo-width":2},maxzoom:9}),!1),I&&l.default.createElement(s.Popup,{longitude:I[0],latitude:I[1],closeButton:!1,anchor:"top-left",offset:4,className:"mapbox-popup"},"View Station Profile"),M&&K&&l.default.createElement(s.Source,{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:K},properties:{}}]}},l.default.createElement(s.Layer,{id:"geolocation-circle-glow",type:"circle",paint:{"circle-color":"#5fb7ff","circle-radius":12,"circle-blur":1}}),l.default.createElement(s.Layer,{id:"geolocation-circle",type:"circle",paint:{"circle-color":"#038cfc","circle-radius":6,"circle-stroke-color":"#FFFFFF","circle-stroke-width":2}})),l.default.createElement(y.MapControls,null))}},8895:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MapControls=void 0;const l=i(n(9526)),s=o(n(470)),u=n(6324),c=n(1346),d=n(4650),f=n(2024),p=n(2854),m=o(n(6212)),h=o(n(713)),g=n(3100),b=n(8256),y=n(1775),v=s.default.div`
  display: flex;
  flex-direction: column;
  position: fixed;
  right: ${({theme:e,hidden:t})=>t?e.spacing(-8):e.spacing(1)};
  bottom: ${({theme:e,smallPadding:t})=>e.spacing(t?4:5)};
  z-index: 1;
  transition: ${({theme:e})=>e.transitions.create("right")};
`;t.MapControls=()=>{var e;const{setTarget:t}=(0,p.useMapTarget)(),{current:n}=(0,f.useMap)(),[a,r]=(0,l.useState)(null!==(e=null==n?void 0:n.getBearing())&&void 0!==e?e:0),[i,o]=(0,l.useState)(!1),{requestGeolocation:s,requestGeolocationWatch:w}=(0,g.useGeolocation)(),[_,E]=(0,l.useState)(!1),{searchOpen:x}=(0,y.useAppState)(),[O]=(0,b.useWindow)();(0,l.useEffect)((()=>{null==n||n.on("rotate",(e=>{r(e.target.getBearing())})),null==n||n.on("movestart",(()=>{_?(E(!1),o(!0)):o(!1)})),null==n||n.on("moveend",(()=>{}))}),[]);const S=(0,l.useCallback)((()=>{s().then((e=>{const n=(0,m.default)({type:"Point",coordinates:e},.5,{units:"kilometers"});t((0,h.default)(n)),o(!0),E(!0),w()}))}),[]);return l.default.createElement(v,{smallPadding:O>600,hidden:!(O>600)&&x},l.default.createElement(d.ControlPaper,null,l.default.createElement(u.Tooltip,{title:"Jump to Current Location",placement:"left"},l.default.createElement(u.IconButton,{size:"large",onClick:S},i?l.default.createElement(c.GpsFixed,null):l.default.createElement(c.GpsNotFixed,null)))),l.default.createElement(d.ControlPaper,null,l.default.createElement(u.Tooltip,{title:"Zoom In",placement:"left"},l.default.createElement(u.IconButton,{size:"large",onClick:()=>{null==n||n.zoomIn()}},l.default.createElement(c.Add,null))),l.default.createElement(u.Divider,null),l.default.createElement(u.Tooltip,{title:"Zoom Out",placement:"left"},l.default.createElement(u.IconButton,{size:"large",onClick:()=>{null==n||n.zoomOut()}},l.default.createElement(c.Remove,null)))),l.default.createElement(d.ControlPaper,null,l.default.createElement(u.Tooltip,{title:"Reset Orientation",placement:"left"},l.default.createElement(u.IconButton,{size:"large",onClick:()=>{null==n||n.resetNorth()}},l.default.createElement(c.Navigation,{style:{transform:`rotate(${-a}deg)`}})))))}},3264:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SearchBar=void 0;const l=n(1346),s=n(6324),u=i(n(9526)),c=o(n(470)),d=n(1714),f=n(786),p=o(n(6212)),m=o(n(713)),h=n(2854),g=n(1775),b=n(1325),y=n(8256),v=n(6027),w=c.default.div`
  position: fixed;
  padding: ${({theme:e})=>e.spacing(1)};
  width: 400px;
  display: flex;
  flex-direction: column;
  box-sizing: border-box;
  z-index: 10;

  @media (max-width: 600px) {
    width: 100%;
  }
`,_=(0,c.default)(s.Paper)`
  padding: ${({theme:e})=>e.spacing(.25)};
  width: ${e=>e.selected?"100%":"48px"};
  transition: ${({theme:e})=>e.transitions.create(["width","padding"])};
  overflow: clip;
  display: flex;
  box-sizing: border-box;
`,E=(0,c.default)(s.InputBase)`
  flex-grow: 1;
  margin-left: ${({theme:e})=>e.spacing(.25)};
  & input:placeholder-shown {
    text-overflow: ellipsis;
  }
`,x=(0,c.default)(s.IconButton)`
  padding: 10px;
`,O=(0,c.default)(s.Paper)`
  width: 100%;
  margin-top: ${({theme:e})=>e.spacing(1)};
`,S=c.default.img`
  height: 24px;
  width: 24px;
`,k=(0,c.default)(s.ListItemIcon)`
  justify-content: end;
`,M=(0,c.default)(s.ListItem)`
  user-select: none;
`,L=e=>{const{lines:t}=(0,f.useData2)();return u.default.createElement(s.ListItem,{disablePadding:!0,dense:!0},u.default.createElement(s.ListItemButton,{onClick:()=>e.onClick(e)},u.default.createElement(s.ListItemIcon,null,u.default.createElement(l.LocationOn,null)),u.default.createElement(s.ListItemText,{primary:e.name,secondary:e.description}),u.default.createElement(k,null,e.lines.filter((e=>t[e])).map((e=>u.default.createElement(S,{key:e,src:`icons/${t[e].icon}`}))))))},j=e=>{const{lines:t}=(0,f.useData2)();return u.default.createElement(s.ListItem,{disablePadding:!0,dense:!0},u.default.createElement(s.ListItemButton,{onClick:()=>e.onClick(e)},u.default.createElement(s.ListItemIcon,null,"rail-yard"===e.type?u.default.createElement(l.Build,null):u.default.createElement(l.Train,null)),u.default.createElement(s.ListItemText,{primary:e.name,secondary:e.description}),t[e.id].icon&&u.default.createElement(k,null,u.default.createElement(S,{src:`icons/${t[e.id].icon}`}))))},T=e=>{const{searchOpen:t,setSearchOpen:n}=(0,g.useAppState)(),a=(0,v.useStrings)();return u.default.createElement(_,{selected:t},u.default.createElement(x,{"aria-label":"Search Button",onClick:()=>n(!t)},u.default.createElement(l.Search,null)),u.default.createElement(E,{onChange:t=>{e.onQueryUpdate(t.target.value)},value:e.query,placeholder:a.search_placeholder}),t&&u.default.createElement(x,{"aria-label":"Close Search",onClick:()=>{e.onQueryUpdate(""),n(!1)}},u.default.createElement(l.Close,null)))},C=e=>{const{searchOpen:t,setSearchOpen:n}=(0,g.useAppState)(),a=(0,v.useStrings)();return u.default.createElement(_,{selected:!0},u.default.createElement(x,{"aria-label":"Search Button"},u.default.createElement(l.Search,null)),u.default.createElement(E,{onChange:t=>{e.onQueryUpdate(t.target.value)},value:e.query,placeholder:a.search_placeholder}),t&&u.default.createElement(x,{"aria-label":"Close Search",onClick:()=>{e.onQueryUpdate(""),n(!1)}},u.default.createElement(l.Close,null)))};t.SearchBar=()=>{const[e,t]=(0,u.useState)(""),{db:n,lines:a}=(0,f.useData2)(),[r,i]=(0,u.useState)([]),{searchOpen:o,setSearchOpen:c}=(0,g.useAppState)(),[v]=(0,y.useWindow)(),{lineFilterState:_,setLineFiltered:E}=(0,g.useAppState)(),{setTarget:x}=(0,h.useMapTarget)(),S=e=>{const t=a[e.parent].filterKey;t&&!(0,b.isLineEnabled)(t,_)&&E(t,!0);const n={type:"Point",coordinates:[e.lng,e.lat]},r=(0,p.default)(n,.5,{units:"kilometers"}),i=(0,m.default)(r);x(i),v<=600&&c(!1)},k=e=>{const t=a[e.id].filterKey;t&&!(0,b.isLineEnabled)(t,_)&&E(t,!0),x(e.bounds),v<=600&&c(!1)};return(0,u.useEffect)((()=>{""!=e&&(0,d.search)(n,e).then((e=>{e.length>0&&c(!0),i(e)}))}),[e]),u.default.createElement(w,null,v>600?u.default.createElement(C,{query:e,onQueryUpdate:t}):u.default.createElement(T,{query:e,onQueryUpdate:t}),u.default.createElement(s.Grow,{in:o,style:{transformOrigin:"50% 0 0"},unmountOnExit:!0},u.default.createElement(O,null,u.default.createElement(s.List,null,0===r.length&&u.default.createElement(M,{disabled:!0},u.default.createElement(s.ListItemIcon,null,u.default.createElement(l.FilterList,null)),u.default.createElement(s.ListItemText,{primary:"No results..."})),r.slice(0,10).map(((e,t)=>"station"===e.type?u.default.createElement(L,{key:t,...e,onClick:S}):u.default.createElement(j,{key:t,...e,onClick:k})))))))}},3200:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Controls=void 0;const l=i(n(9526)),s=n(6324),u=n(1346),c=n(4469),d=o(n(470)),f=n(2081),p=n(2854),m=n(1775),h=o(n(6546)),g=n(8256),b=n(4650),y=d.default.div`
  position: fixed;
  right: ${({theme:e,hidden:t})=>t?e.spacing(-8):e.spacing(1)};
  top: ${({theme:e})=>e.spacing(1)};
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  transition: ${({theme:e})=>e.transitions.create("right")};
  z-index: 500;
`,v=e=>{const{setTarget:t}=(0,p.useMapTarget)();return l.default.createElement(s.Menu,{anchorEl:e.anchorEl,open:e.open,onClose:e.onClose},l.default.createElement(s.MenuItem,{disabled:!0},"Jump to…"),f.config.regions.map((n=>l.default.createElement(s.MenuItem,{key:n.title,onClick:()=>{var a;a=n,e.onClose(),t(a.bbox)}},n.title))))};t.Controls=()=>{const[e,t]=(0,l.useState)(null),n=l.default.useRef(null),{setLegendDrawerOpen:a,setSettingsDrawerOpen:r,setShareSheetOpen:i,setLineKeyDrawerOpen:o,searchOpen:d}=(0,m.useAppState)(),[f]=(0,g.useWindow)(),p=l.default.useRef(null),w=l.default.useRef(null);return(0,l.useEffect)((()=>{if(!localStorage.quickNav){const e=()=>{(()=>{const e=w.current.getBoundingClientRect();p.current.start({clientX:e.left+e.width/2,clientY:e.top+e.height/2},{center:!1}),setTimeout((()=>p.current.stop({})),320)})(),localStorage.quickNav||(n.current=window.setTimeout(e,2e3))};e()}}),[]),l.default.createElement(l.default.Fragment,null,l.default.createElement(y,{hidden:!(f>600)&&d},l.default.createElement(b.ControlPaper,null,l.default.createElement(s.Tooltip,{title:"Quick Navigation"},l.default.createElement(s.IconButton,{ref:w,onClick:e=>{localStorage.quickNav=!0,n.current&&clearTimeout(n.current),t(e.currentTarget)},size:"large"},l.default.createElement(h.default,{ref:p,center:!0}),l.default.createElement(u.NearMe,null)))),l.default.createElement(b.ControlPaper,null,l.default.createElement(s.Tooltip,{title:"Map Legend"},l.default.createElement(s.IconButton,{onClick:()=>a(!0),size:"large"},l.default.createElement(u.Layers,null))),l.default.createElement(s.Divider,null),l.default.createElement(b.ControlPaper,null,l.default.createElement(s.Tooltip,{title:"Key to Lines"},l.default.createElement(s.IconButton,{onClick:()=>o(!0),size:"large"},l.default.createElement(u.LineStyle,null))))),l.default.createElement(b.ControlPaper,null,l.default.createElement(s.Tooltip,{title:"Map Settings"},l.default.createElement(s.IconButton,{onClick:()=>r(!0),size:"large"},l.default.createElement(u.Settings,null)))),l.default.createElement(b.ControlPaper,null,l.default.createElement(s.Tooltip,{title:"Share"},l.default.createElement(s.IconButton,{onClick:()=>i(!0),size:"large"},l.default.createElement(u.Share,null))),l.default.createElement(s.Divider,null),l.default.createElement(s.Tooltip,{title:"Contribute on GitHub"},l.default.createElement(s.IconButton,{href:"https://github.com/dunxrae/ot67",size:"large"},l.default.createElement(u.GitHub,null))))),l.default.createElement(c.ShareSheet,null),l.default.createElement(c.ShareSheet,null),l.default.createElement(v,{anchorEl:e,open:Boolean(e),onClose:()=>{t(null)}}))}},2739:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LayerOption=void 0;const r=a(n(9526)),i=n(6324),o=a(n(470)),l=(0,o.default)(i.Typography)`
  margin-bottom: ${({theme:e})=>e.spacing(1)};
`,s=(0,o.default)(i.CardContent)`
  display: flex;
  flex-direction: column;
  flex-grow: 1;
`,u=(0,o.default)(i.Card)`
  margin: ${({theme:e})=>e.spacing(2)};
  border-radius: 8px;
  ${({selected:e,tint:t})=>e&&`background-color:${(0,i.alpha)(t,.1)};`}
`,c=(0,o.default)(i.CardActionArea)`
  display: flex;
  flex-direction: row;
  justify-content: start;
`,d=o.default.div`
  display: flex;
  flex-grow: 0;
  flex-shrink: 0;
  width: 88px;
  height: 88px;
  margin: ${({theme:e})=>e.spacing(1)};
  border-radius: 100%;
  overflow: hidden;
  background: ${({theme:e})=>e.palette.background.default};
  filter: ${({selected:e})=>e?"grayscale(0)":"grayscale(1)"};
  transition: ${({theme:e})=>e.transitions.create("filter")};
  & img {
    width: 100%;
    height: 100%;
  }
  border: 1px solid ${({theme:e})=>e.palette.text.disabled};
`;t.LayerOption=e=>{var t;const n=(0,i.useTheme)();return r.default.createElement(u,{variant:"outlined",selected:e.selected,tint:null!==(t=e.tint)&&void 0!==t?t:n.palette.secondary.main},r.default.createElement(c,{onClick:()=>{var t;return null===(t=e.onClick)||void 0===t?void 0:t.call(e)}},e.imageUrl&&r.default.createElement(d,{selected:e.selected},r.default.createElement("img",{src:e.imageUrl})),r.default.createElement(s,null,r.default.createElement(l,{variant:"h6"},e.primary),r.default.createElement(i.Typography,{variant:"body1"},e.secondary))))}},693:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LegendDrawer=void 0;const l=i(n(9526)),s=n(6324),u=o(n(470)),c=n(4847),d=n(4134),f=n(2854),p=n(1775),m=n(8256),h=n(1325),g=o(n(4125)),b=u.default.div`
  width: 5px;
  background-color: ${e=>e.tint};
  display: flex;
  align-self: stretch;
  margin: ${({theme:e})=>e.spacing(1)};
`,y=(0,u.default)(s.ListItem)`
  filter: ${({checked:e})=>e?"grayscale(0)":"grayscale(1)"};
  transition: ${({theme:e})=>e.transitions.create("filter")};

  & .Mui-disabled {
    opacity: 1;
  }
`,v=e=>{const{setTarget:t}=(0,f.useMapTarget)(),[n]=(0,m.useWindow)(),a=(0,s.useTheme)(),{setLegendDrawerOpen:r}=(0,p.useAppState)();return l.default.createElement(y,{disablePadding:!0,dense:!0,checked:e.enabled,secondaryAction:e.filterKey&&!e.filterKey.startsWith("!")&&l.default.createElement(s.Checkbox,{style:{color:e.tint},checked:e.enabled,onChange:e.onChecked,edge:"end"})},l.default.createElement(s.ListItemButton,{disabled:!e.enabled,onClick:()=>{null!=e.bbox&&t(e.bbox),n<=a.breakpoints.values.md&&r(!1)}},e.icon&&l.default.createElement(s.ListItemAvatar,null,l.default.createElement("img",{src:e.icon})),l.default.createElement(b,{tint:e.tint}),l.default.createElement(s.ListItemText,{primary:e.title,secondary:e.description})))},w=u.default.div`
  width: 100%;
  box-sizing: border-box;
  overflow-x: hidden;
`,_=(0,u.default)(s.ListItemButton)`
  width: 100%;
  display: flex;
  box-sizing: border-box;
  justify-content: space-between;
  align-items: center;
  padding: ${({theme:e})=>e.spacing(2)};
`,E=e=>{var t;const n=(0,s.useTheme)(),{lineFilterState:a,setLineFiltered:r,legendGroupState:i,setLegendGroupOpen:o}=(0,p.useAppState)(),u=(0,l.useRef)(null),c=null!==(t=i[e.agency.id])&&void 0!==t&&t;return l.default.createElement(w,{ref:u},l.default.createElement(_,{onClick:()=>{o(e.agency.id,!c),c||setTimeout((()=>{var e;null===(e=u.current)||void 0===e||e.scrollIntoView({block:"end",behavior:"smooth"})}),300)}},l.default.createElement(s.Typography,{variant:"subtitle1"},e.agency.name),l.default.createElement("div",null,l.default.createElement(d.Chevron,{down:c,color:n.palette.text.primary}))),l.default.createElement(s.Collapse,{in:c},e.entries.map((e=>{const t=(0,h.isLineEnabled)(e.filterKey,a);return l.default.createElement(v,{key:e.id,...e,enabled:t,onChecked:()=>{r(e.filterKey,!t)}})}))),l.default.createElement(s.Divider,null))};t.LegendDrawer=l.default.memo((e=>{const{legendDrawerOpen:t,setLegendDrawerOpen:n}=(0,p.useAppState)(),a=(0,l.useMemo)((()=>{const e={};return Object.values(g.default).forEach((t=>{const n=t.agency;null==e[n]&&(e[n]=[]),e[n].push(t)})),e}),[]);return l.default.createElement(c.MenuDrawer,{open:t,onClose:()=>n(!1),title:"Map Legend"},l.default.createElement(s.List,null,Object.entries(a).map((([t,n])=>{const a=n.filter((e=>"rail-line"===(null==e?void 0:e.type)||"streetcar-line"===(null==e?void 0:e.type))).map((e=>({id:e.id,title:e.name,description:e.description,tint:e.color,bbox:e.bbox,icon:`icons/${e.icon}`,filterKey:e.filterKey})));return l.default.createElement(E,{agency:e.allAgencies[t],key:t,entries:a})}))))}))},3601:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MenuOption=t.SwitchOption=void 0;const r=a(n(9526)),i=n(6324);t.SwitchOption=e=>{const t=()=>{e.onToggle(!e.checked)};return r.default.createElement(i.ListItem,{disabled:e.disabled,onClick:t,button:!0},r.default.createElement(i.ListItemText,{primary:e.primary,secondary:e.secondary}),r.default.createElement(i.ListItemSecondaryAction,null,r.default.createElement(i.Switch,{disabled:e.disabled,onChange:t,checked:e.checked,edge:"end"})))},t.MenuOption=e=>{const[t,n]=r.default.useState(null);return r.default.createElement(r.default.Fragment,null,r.default.createElement(i.ListItem,{onClick:e=>{n(e.currentTarget)},button:!0},r.default.createElement(i.ListItemText,{primary:e.primary,secondary:e.options[e.value]})),r.default.createElement(i.Menu,{open:null!=t,anchorEl:t},e.options.map(((t,a)=>r.default.createElement(i.MenuItem,{key:t,onClick:()=>(t=>{null==e||e.onChange(t),n(null)})(a),selected:e.value===a},t)))))}},4847:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MenuDrawer=void 0;const r=a(n(9526)),i=n(6324),o=a(n(470)),l=n(1346),s=a(n(858)),u=(0,o.default)(i.Drawer)`
  & .MuiDrawer-paper {
    width: 420px;
    ${({theme:e})=>e.breakpoints.down("md")} {
      width: 100%;
    }
    box-shadow: ${({theme:e})=>e.shadows[4]};
  }
`,c=(0,o.default)(i.AppBar)`
  background-color: ${({theme:e})=>e.palette.background.default};
  display: flex;
  flex-grow: 0;
`,d=(0,o.default)(i.IconButton)`
  margin-right: ${({theme:e})=>e.spacing(2)};
`,f=(0,o.default)(i.Typography)`
  flex-grow: 1;
  color: ${({theme:e})=>e.palette.text.primary};
`,p=o.default.div`
  display: flex;
  flex-grow: 1;
  height: 100%;
`;t.MenuDrawer=e=>r.default.createElement(u,{variant:"persistent",anchor:"right",open:e.open,elevation:4},r.default.createElement(c,{position:"static"},r.default.createElement(i.Toolbar,null,r.default.createElement(d,{edge:"start",size:"large",onClick:e.onClose},r.default.createElement(l.Close,null)),r.default.createElement(f,{variant:"h6"},e.title))),r.default.createElement(p,null,r.default.createElement(s.default,null,e.children)))},2363:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsDrawer=void 0;const r=a(n(9526)),i=n(6324),o=n(2739),l=n(3601),s=n(4847),u=n(1775),c=a(n(470)),d=["Follow System Settings","Light","Dark"],f=e=>"system"===e?0:"light"===e?1:2,p=(0,c.default)(i.Typography)`
  width: 100%;
  padding: ${({theme:e})=>e.spacing(0,2)};
  margin: ${({theme:e})=>e.spacing(2,0,0,0)};
  box-sizing: border-box;
  display: block;
`;t.SettingsDrawer=()=>{const{settingsDrawerOpen:e,setSettingsDrawerOpen:t,show3DBuildings:n,setShow3DBuildings:a,showLabels:c,setShowLabels:m,mapStyle:h,setMapStyle:g,appTheme:b,setAppTheme:y,showGeolocation:v,setShowGeolocation:w,debugShowRegionBounds:_,setDebugShowRegionBounds:E}=(0,u.useAppState)();return r.default.createElement(s.MenuDrawer,{open:e,onClose:()=>{t(!1)},title:"Map Settings"},r.default.createElement(p,{variant:"overline"},"Map Type"),r.default.createElement(o.LayerOption,{primary:"Map View",secondary:"Basic map in either light or dark themes",selected:"vector"===h,onClick:()=>g("vector")}),r.default.createElement(o.LayerOption,{primary:"Satellite View",secondary:"Satellite imagery",selected:"satellite"===h,onClick:()=>g("satellite")}),r.default.createElement(i.Divider,null),r.default.createElement(p,{variant:"overline"},"Additional Settings"),r.default.createElement(i.List,null,r.default.createElement(l.SwitchOption,{primary:"Show 3D buildings",checked:n,onToggle:e=>a(e)}),r.default.createElement(l.SwitchOption,{primary:"Show station labels",checked:c,onToggle:e=>m(e)}),r.default.createElement(l.MenuOption,{primary:"Choose theme",options:d,value:f(b),onChange:e=>{switch(e){case 0:y("system");break;case 1:y("light");break;case 2:y("dark")}}}),r.default.createElement(l.SwitchOption,{primary:"Show Geolocation on Map",checked:v,onToggle:e=>w(e)})),!1,r.default.createElement(i.Divider,null),r.default.createElement(p,{variant:"overline"},"About"),r.default.createElement(i.List,null,r.default.createElement(i.ListItemButton,{href:"https://www.iubenda.com/privacy-policy/15954265"},r.default.createElement(i.ListItemText,{primary:"Privacy policy"})),r.default.createElement(i.ListItem,{dense:!0},r.default.createElement(i.ListItemText,{primary:"Version",secondary:"1.5.1"})),r.default.createElement(i.ListItem,{dense:!0},r.default.createElement(i.ListItemText,{primary:"Build date",secondary:new Date(1709670235166).toLocaleString()}))))}},4469:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ShareSheet=void 0;const r=n(6324),i=a(n(9523)),o=n(1346),l=a(n(9526)),s=n(1775),u=(0,i.default)((e=>({closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},shareButton:{textTransform:"none",fontSize:e.typography.body1.fontSize,background:e.palette.background.default,"&:hover":{background:e.palette.background.default},margin:e.spacing(0,3,2,3),maxWidth:"100%"},dialogContent:{listStyle:"none",display:"flex",flexDirection:"column",padding:e.spacing(1,0)},buttonText:{width:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}))),c=(0,i.default)((e=>({root:{color:e.palette.text.primary}}))),d=e=>{const t=c(),n=()=>{e.onCheck(!e.checked)};return l.default.createElement(r.ListItem,{button:!0,onClick:n,dense:!0},l.default.createElement(r.ListItemText,{primary:e.primary,secondary:e.secondary}),l.default.createElement(r.ListItemSecondaryAction,null,l.default.createElement(r.Checkbox,{color:"primary",className:t.root,checked:e.checked,edge:"start",onChange:n})))};t.ShareSheet=()=>{const{shareSheetOpen:e,setShareSheetOpen:t,lineFilterState:n,appTheme:a,mapStyle:i}=(0,s.useAppState)(),c=u(),[f,p]=l.default.useState(null),[m,h]=l.default.useState(!0),[g,b]=l.default.useState(!1),[y,v]=l.default.useState(!1),w=()=>{t(!1)},_=()=>{const e=location.protocol,t=location.host,a=new URL(`${e}//${t}/`);if(m&&(a.hash=location.hash),g&&a.searchParams.append("map","satellite"),y){const e=Object.keys(n).filter((e=>n[e])).map((e=>e)).join(",");a.searchParams.append("show",e)}return a.toString()};return l.default.createElement(l.default.Fragment,null,l.default.createElement(r.Dialog,{fullWidth:!0,maxWidth:"sm",onClose:w,open:e},l.default.createElement(r.DialogTitle,null,l.default.createElement(r.Typography,{variant:"h6"},"Share This Map"),l.default.createElement(r.IconButton,{className:c.closeButton,onClick:w,size:"large"},l.default.createElement(o.Close,null))),l.default.createElement(r.DialogContent,{className:c.dialogContent},l.default.createElement(r.Button,{className:c.shareButton,onClick:()=>{var e;navigator.share?navigator.share({title:"Rail Fans Map",url:_()}):navigator.clipboard.writeText&&(e=_(),navigator.clipboard.writeText(e).then((()=>{p("Copied to clipboard")})).catch((()=>{p("Could not copy to clipboard")})))},endIcon:l.default.createElement(o.ContentCopy,null)},l.default.createElement("span",{className:c.buttonText},_())),l.default.createElement(d,{primary:"Current Location",secondary:"Share the map with the current location visible",checked:m,onCheck:e=>h(e)}),l.default.createElement(d,{primary:"Satellite Basemap",secondary:"Share the map using the satellite basemap",checked:g,onCheck:e=>b(e)}),l.default.createElement(d,{primary:"Include Toggled Lines",secondary:"Show all lines that have been toggled in the legend",checked:y,onCheck:e=>v(e)}))),l.default.createElement(r.Snackbar,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:null!=f,onClose:()=>p(null),message:f,autoHideDuration:2400}))}},2081:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.config=void 0;const r=a(n(9455));t.config=r.default},3696:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MapBoundsProvider=t.MapBoundsContext=t.postNewBounds=void 0;const l=n(2081),s=o(n(6208)),u=o(n(3631)),c=i(n(9526));let d=!1,f=null,p=null;t.postNewBounds=function(e){f=e,d||(d=!0,setTimeout((()=>{d=!1,h(f)}),250),h(e))};const m=l.config.regions.map((e=>({region:e,bbox:(0,s.default)(e.bbox)})));function h(e){const t=(0,s.default)(e.toArray().flat()),n=m.filter((e=>(0,u.default)(t,e.bbox))).map((e=>e.region)),a=[],r=[],i=[];for(let e of n)1===e.tier?a.push(e):2===e.tier?r.push(e):3===e.tier&&i.push(e);null==p||p({tier1:a,tier2:r,tier3:i})}const g={tier1:[],tier2:[],tier3:[]};t.MapBoundsContext=(0,c.createContext)(g),t.MapBoundsProvider=e=>{const[n,a]=(0,c.useState)(g);return(0,c.useEffect)((()=>{p=e=>{a(e)}}),[]),c.default.createElement(t.MapBoundsContext.Provider,{value:n},e.children)}},1775:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useAppState=t.ProvideAppState=void 0;const l=n(572),s=n(3373),u=i(n(9526)),c=n(786),d=o(n(6208)),f=o(n(3631)),p=(0,u.createContext)(null),m=(()=>{if(null==localStorage.settings)return{};const e=JSON.parse(localStorage.settings);if(null==e.version){const{showLineLabels:t,...n}=e;return{...n,showLabels:t}}return e.version<"3.4.2"?{...e,showLabels:!0}:e})(),h=(()=>{const e=new URLSearchParams(location.search);return(0,l.produce)({},(t=>{var n,a,r,i;if((null===(n=e.get("map"))||void 0===n?void 0:n.includes("satellite"))?t.mapStyle="satellite":(null===(a=e.get("map"))||void 0===a?void 0:a.includes("vector"))&&(t.mapStyle="vector"),(null===(r=e.get("theme"))||void 0===r?void 0:r.includes("light"))?t.appTheme="light":(null===(i=e.get("theme"))||void 0===i?void 0:i.includes("dark"))&&(t.appTheme="dark"),e.get("show")){const n=e.get("show").split(",");t.lineFilterState={},n.forEach((e=>{t.lineFilterState[e]=!0}))}}))})(),g={...m,...h,lineFilterState:{...m.lineFilterState,...h.lineFilterState}};t.ProvideAppState=e=>{const t=(()=>{var e,t,n,a,r,i,o,l;const[p,m]=(0,u.useState)(!1),[h,b]=(0,u.useState)(!1),[y,v]=(0,u.useState)(!1),[w,_]=(0,u.useState)(!1),[E,x]=(0,u.useState)(!1),[O,S]=(0,u.useState)(null!==(e=g.show3DBuildings)&&void 0!==e&&e),[k,M]=(0,u.useState)(null===(t=g.showLabels)||void 0===t||t),[L,j]=(0,u.useState)(null!==(n=g.appTheme)&&void 0!==n?n:"system"),[T,C]=(0,u.useState)(null!==(a=g.mapStyle)&&void 0!==a?a:"vector"),[P,A]=(0,u.useState)(null!==(r=g.lineFilterState)&&void 0!==r?r:{}),[F,D]=(0,u.useState)(null!==(i=g.legendGroupState)&&void 0!==i?i:{}),[B,R]=(0,u.useState)(null===(o=g.showGeolocation)||void 0===o||o),[I,q]=(0,u.useState)(null!==(l=g.debugShowRegionBounds)&&void 0!==l&&l),[N,z]=(0,u.useState)(new s.LngLatBounds([0,0,0,0])),[K,$]=(0,u.useState)([]),{regions:W}=(0,c.useData2)();(0,u.useEffect)((()=>{const e=(0,d.default)(N.toArray().flat()),t=Object.values(W).filter((t=>(0,f.default)(e,(0,d.default)(t.bbox))));$(t)}),[W,N]);const G={settingsDrawerOpen:p,setSettingsDrawerOpen:m,legendDrawerOpen:h,setLegendDrawerOpen:b,shareSheetOpen:y,setShareSheetOpen:v,lineKeyDrawerOpen:w,setLineKeyDrawerOpen:_,searchOpen:E,setSearchOpen:x,show3DBuildings:O,setShow3DBuildings:S,showLabels:k,setShowLabels:M,appTheme:L,setAppTheme:j,mapStyle:T,setMapStyle:C,lineFilterState:P,setLineFiltered:(e,t)=>{A({...P,[e]:t})},legendGroupState:F,setLegendGroupOpen:(e,t)=>{D({...F,[e]:t})},showGeolocation:B,setShowGeolocation:R,debugShowRegionBounds:I,setDebugShowRegionBounds:q,mapBounds:N,setMapBounds:z,visibleRegions:K};return(0,u.useEffect)((()=>{(e=>{const{settingsDrawerOpen:t,legendDrawerOpen:n,shareSheetOpen:a,lineKeyDrawerOpen:r,...i}=e;localStorage.settings=JSON.stringify({...i,version:"3.4.2"})})(G)})),G})();return u.default.createElement(p.Provider,{value:t},e.children)},t.useAppState=()=>(0,u.useContext)(p)},786:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useData2=t.ProvideData2=void 0;const l=i(n(9526)),s=n(2081),u=n(1714),c=o(n(4125)).default,d=l.default.createContext({agencies:{},regions:{},lines:c,db:null});t.ProvideData2=e=>{const t=(()=>{const e={};s.config.agencies.forEach((t=>{e[t.id]=t}));const t={};s.config.regions.forEach((e=>{t[e.id]=e}));const[n,a]=(0,l.useState)({db:null,agencies:e,regions:t,lines:c});return(0,l.useEffect)((()=>{(async()=>{const e=await(0,u.prepDatabase)(),t=await fetch("search.json").then((e=>e.json()));await(0,u.processFeatures)(e,t.stations),await(0,u.processBounds)(e,t.bounds),a((t=>({...t,db:e})))})()}),[]),n})();return l.default.createElement(d.Provider,{value:t},e.children)},t.useData2=()=>(0,l.useContext)(d)},3100:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.useGeolocation=t.ProvideGeolocation=void 0;const o=i(n(9526)),l=o.default.createContext({requestGeolocationWatch:()=>{},requestGeolocation:()=>null});t.ProvideGeolocation=e=>{const t=(()=>{const e=(0,o.useRef)(null),[t,n]=(0,o.useState)(),a=async()=>t||new Promise(((e,t)=>{navigator.geolocation.getCurrentPosition((t=>{const a=[t.coords.longitude,t.coords.latitude];n(a),e(a)}),(e=>{t(e)}),{enableHighAccuracy:!0})}));return(0,o.useEffect)((()=>{navigator.permissions.query({name:"geolocation"}).then((e=>{"granted"===e.state&&a()}))}),[]),{geolocation:t,requestGeolocation:a,requestGeolocationWatch:()=>{null!=e.current&&navigator.geolocation.clearWatch(e.current),e.current=navigator.geolocation.watchPosition((e=>{n([e.coords.longitude,e.coords.latitude])}),(()=>{}),{enableHighAccuracy:!0})}}})();return o.default.createElement(l.Provider,{value:t},e.children)},t.useGeolocation=()=>(0,o.useContext)(l)},2854:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.useMapTarget=t.ProvideMapTarget=void 0;const o=i(n(9526)),l=o.default.createContext(null);t.ProvideMapTarget=e=>{const t=(()=>{const[e,t]=(0,o.useState)();return{target:e,setTarget:e=>{t(e)}}})();return o.default.createElement(l.Provider,{value:t},e.children)},t.useMapTarget=()=>(0,o.useContext)(l)},6027:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.useStrings=t.ProvideStrings=void 0;const o=i(n(9526)),l=n(9481);function s(){return l.localizedStrings.en}const u=o.default.createContext(s());t.ProvideStrings=e=>{const t=(()=>{const[e,t]=(0,o.useState)(s());return(0,o.useEffect)((()=>{window.addEventListener("languagechange",(()=>{t(s())}))}),[]),e})();return o.default.createElement(u.Provider,{value:t},e.children)},t.useStrings=()=>(0,o.useContext)(u)},8256:function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,r)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.useWindow=t.ProvideWindow=void 0;const o=i(n(9526)),l=o.default.createContext([0,0]);t.ProvideWindow=e=>{const t=(()=>{const[e,t]=(0,o.useState)([window.innerWidth,window.innerHeight]);return(0,o.useEffect)((()=>{window.addEventListener("resize",(()=>{t([window.innerWidth,window.innerHeight])}))}),[]),e})();return o.default.createElement(l.Provider,{value:t},e.children)},t.useWindow=()=>(0,o.useContext)(l)},3042:function(e,t,n){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(99);const r=a(n(9526)),i=n(4470),o=n(1127),l=n(1473),s=o.css`
  html,
  body {
    height: 100%;
    width: 100%;
    margin: 0;
    padding: 0;
  }

  #content {
    height: 100%;
  }

  ::selection {
    background: #f44336;
  }

  .mapboxgl-popup-content {
    margin-left: -16px;
    border-radius: 4px !important;
    background: #212121 !important;
    color: #ffffff;
    font-family: "Inter", sans-serif !important;
    padding: 8px !important;
    font-size: 16px;
    margin-top: 12px;
  }

  .mapboxgl-popup-tip {
    display: none;
  }
`,u=document.getElementById("content");(0,i.createRoot)(u).render(r.default.createElement(r.default.StrictMode,null,r.default.createElement(o.Global,{styles:s}),r.default.createElement(l.App,null)))},9481:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.localizedStrings=void 0,t.localizedStrings={en:{search_placeholder:"Search stations, lines, yards..."},fr:{search_placeholder:"Rechercher des gares, des lignes..."}}},9824:()=>{},2219:()=>{},8183:()=>{},4125:e=>{"use strict";e.exports=JSON.parse('{"ottawa/belfast":{"type":"rail-yard","id":"ottawa/belfast","name":"Belfast Yard","description":"Maintenance and Storage Facility for Lines 1 and 3","sources":["City of Ottawa"],"searchTerms":["Confederation Line"],"agency":"otransit","region":"ottawa","bbox":[-75.64820782497546,45.41375017033193,-75.63755788898123,45.419185613751736]},"ottawa/greenbank":{"type":"rail-yard","filterKey":"barrhavenExtension","id":"ottawa/greenbank","name":"Greenbank Yard","description":"Proposed Maintenance and Storage Facility for Lines 1 and 3 as part of the Line 1 Barrhaven Extension","sources":["City of Ottawa"],"searchTerms":["Confederation Line","Barrhaven"],"agency":"otransit","region":"ottawa","bbox":[-75.75066724560307,45.278299197809204,-75.74839440931795,45.28248020888946]},"ottawa/moodie":{"type":"rail-yard","id":"ottawa/moodie","name":"Moodie Yard","description":"Maintenance and Storage Facility for Lines 1 and 3","sources":["City of Ottawa"],"searchTerms":["Confederation Line"],"agency":"otransit","region":"ottawa","bbox":[-75.85500411766374,45.33368568812269,-75.84208112516919,45.33892236017065]},"ottawa/walkley":{"type":"rail-yard","offset":0,"id":"ottawa/walkley","name":"Walkley Yard","description":"Maintenance and Storage Facility for Lines 2 and 4","sources":["City of Ottawa"],"searchTerms":["Trillium Line"],"agency":"otransit","region":"ottawa","bbox":[-75.66267087442462,45.36002511860245,-75.64885179127002,45.36715696370816]},"ottawa/1":{"id":"ottawa/1","type":"rail-line","color":"#FF0000","offset":0.5,"icon":"ottawa/1.svg","name":"Line 1: Confederation","description":"Algonquin - Sweetvalley","filterKey":"!metro","sources":["City of Ottawa"],"searchTerms":["Confederation Line"],"agency":"otransit","region":"ottawa","bbox":[-75.78228584036735,45.34616234559657,-75.47747973635988,45.4860139546021]},"ottawa/2":{"id":"ottawa/2","type":"rail-line","color":"#00CC00","offset":0.5,"icon":"ottawa/2.svg","source":["City of Ottawa"],"name":"Line 2: Trillium","description":"Labrosse - Limebank","filterKey":"!regional","searchTerms":["Trillium Line"],"sources":["N/A"],"agency":"otransit","region":"ottawa","bbox":[-75.73197354265119,45.277064636020924,-75.60738227393927,45.49471107172684]},"ottawa/3":{"id":"ottawa/3","type":"rail-line","color":"#C89800","offset":-0.5,"icon":"ottawa/3.svg","name":"Line 3: Crosstown","description":"Trim - Terry Fox","filterKey":"!metro","sources":[],"searchTerms":["Crosstown Line"],"agency":"otransit","region":"ottawa","bbox":[-75.84210742823615,45.3388915176561,-75.48071809798415,45.4958336575269]},"ottawa/4":{"id":"ottawa/4","type":"rail-line","color":"#3CCFFF","offset":-0.5,"icon":"ottawa/4.svg","name":"Line 4: Aviation","description":"Rideau - Airport","filterKey":"!regional","sources":["City of Ottawa"],"searchTerms":["Aviation Line","Airport Branch"],"agency":"otransit","region":"ottawa","bbox":[-75.6941002687288,45.323425021635636,-75.64890530804793,45.42456557057116]},"ottawa/5":{"id":"ottawa/5","type":"rail-line","color":"#CC00FF","offset":0,"icon":"ottawa/5.svg","name":"Line 5: Central","description":"Potter\'s Key - Elmvale Acres","filterKey":"!metro","sources":["N/A"],"searchTerms":["Central Line"],"agency":"otransit","region":"ottawa","bbox":[-75.93334771633994,45.26949053313399,-75.6234498795947,45.43741516729408]},"ottawa/6":{"id":"ottawa/6","type":"rail-line","color":"#0055FF","offset":-1,"icon":"ottawa/6.svg","name":"Line 6: Nepean","description":"Cegep - Barrhaven Central","filterKey":"!metro","sources":["N/A"],"searchTerms":["Nepean Line"],"agency":"otransit","region":"ottawa","bbox":[-75.76739393749584,45.26663374353053,-75.70920425184622,45.459802419171965]},"ottawa/7":{"id":"ottawa/7","type":"rail-line","color":"#00FFFF","offset":1,"icon":"ottawa/7.svg","name":"Line 7: Hurdman","description":"Airport - Elmvale Acres","filterKey":"!metro","sources":["N/A"],"searchTerms":["Hurdman Line"],"agency":"otransit","region":"ottawa","bbox":[-75.73751010725198,45.32518543207788,-75.6234498795947,45.412216832076815]},"ottawa/9":{"id":"ottawa/9","type":"rail-line","color":"#DEE600","offset":0,"icon":"ottawa/9.svg","name":"Line 9: Beachburg","description":"Kanata North - Tremblay","filterKey":"!regional","sources":["N/A"],"searchTerms":["Beachburg Line 9"],"agency":"otransit","region":"ottawa","bbox":[-75.91150792620945,45.32846595581141,-75.59898039177118,45.42438334291946]},"ottawa/10":{"id":"ottawa/10","type":"rail-line","color":"#8AFF80","offset":-0.5,"icon":"ottawa/10.svg","name":"Line 10: Northern","description":"Bayview - Gatineau Park","filterKey":"!regional","searchTerms":["Old Chelsea Line","Gatineau Park"],"sources":["N/A"],"agency":"otransit","region":"ottawa","bbox":[-75.83606370656011,45.36305430134894,-75.42677992965803,45.51223069495376]},"ottawa/11":{"id":"ottawa/11","type":"rail-line","color":"#FF0000","offset":-1.5,"icon":"ottawa/11.svg","name":"Line 11: Sittsville","description":"Rideau - Village Square","filterKey":"!regional","sources":["N/A"],"searchTerms":["Sittsville Line 11"],"agency":"otransit","region":"ottawa","bbox":[-75.9194045640663,45.25902766741555,-75.65890909473327,45.42447467216575]},"ottawa/12":{"id":"ottawa/12","type":"rail-line","color":"#00CC00","offset":0,"icon":"ottawa/12.svg","name":"Line 12: Fallowfield","description":"Rideau - Casey","filterKey":"!regional","sources":["N/A"],"searchTerms":["Fallowfield Line 12"],"agency":"otransit","region":"ottawa","bbox":[-75.77683096015173,45.258611190888004,-75.65890909473327,45.42447467216575]},"ottawa/13":{"id":"ottawa/13","type":"rail-line","color":"#C89800","offset":1,"icon":"ottawa/13.svg","name":"Line 13: Tewin","description":"Rideau - Tremblay","filterKey":"!regional","sources":["N/A"],"searchTerms":["Tewin Line 13"],"agency":"otransit","region":"ottawa","bbox":[-75.6941002687288,45.33793175258434,-75.49890058200819,45.42438334291946]},"ottawa/14":{"id":"ottawa/14","type":"rail-line","color":"#3CCFFF","offset":-1,"icon":"ottawa/14.svg","name":"Line 14: Cardinal","description":"Rideau - Cardinal","filterKey":"!regional","sources":["N/A"],"searchTerms":["Cardinal Line 14"],"agency":"otransit","region":"ottawa","bbox":[-75.6941002687288,45.411280671882196,-75.45900237586662,45.47689940439962]},"ottawa/15":{"id":"ottawa/15","type":"rail-line","color":"#CC00FF","offset":-1.5,"icon":"ottawa/15.svg","source":["N/A"],"name":"Line 15: Eardley","description":"Eardley - Limebank","filterKey":"!regional","searchTerms":["Eardley Line"],"sources":["N/A"],"agency":"otransit","region":"ottawa","bbox":[-75.86629596792706,45.277064636020924,-75.60799775436755,45.4945472821322]},"ottawa/a":{"id":"ottawa/a","type":"rail-line","color":"#33a948","offset":0,"icon":"ottawa/a.svg","name":"Line A: Aylmer","description":"Eardley - Murray","filterKey":"!tram","sources":["N/A"],"searchTerms":["Aylmer Line","Ligne Aylmer"],"agency":"otransit","region":"ottawa","bbox":[-75.86661750557016,45.39493716905967,-75.68589429929199,45.432230881608945]},"ottawa/b":{"id":"ottawa/b","type":"streetcar-line","color":"#233e96","offset":-0.5,"icon":"ottawa/b.svg","name":"Line B: Bank","description":"Murray - Billings Bridge","filterKey":"!tram","sources":["N/A"],"searchTerms":["Bank Tram"],"agency":"otransit","region":"ottawa","bbox":[-75.70180948686435,45.37631182001907,-75.67494989030625,45.432230881608945]},"ottawa/c":{"id":"ottawa/c","type":"rail-line","color":"#800000","offset":0,"icon":"ottawa/c.svg","name":"Line C: Carleton","description":"Murray - Carleton","filterKey":"!tram","sources":["N/A"],"searchTerms":["Carleton Tram"],"agency":"otransit","region":"ottawa","bbox":[-75.70768437069523,45.37174842202021,-75.68300689539755,45.432230881608945]},"ottawa/d":{"id":"ottawa/d","type":"streetcar-line","color":"#007e88","offset":0.75,"icon":"ottawa/d.svg","name":"Line D: Deschenes","description":"Hunt Club - L\'Imaginaire","filterKey":"!tram","sources":["N/A"],"searchTerms":["Deschenes Tram"],"agency":"otransit","region":"ottawa","bbox":[-75.84326390700406,45.336289586228986,-75.72499648241134,45.41664962629352]},"ottawa/e":{"id":"ottawa/e","type":"streetcar-line","color":"#233e96","offset":-0.5,"icon":"ottawa/e.svg","name":"Line E: Verendrye","description":"Verendrye Est - La Baie","filterKey":"!tram","sources":["N/A"],"searchTerms":["Verendrye Line","Ligne Verendrye"],"agency":"otransit","region":"ottawa","bbox":[-75.70148105096162,45.456558226930724,-75.64270831916514,45.5010195762866]},"ottawa/g":{"id":"ottawa/g","type":"streetcar-line","color":"#ff9921","offset":-0.5,"icon":"ottawa/g.svg","name":"Line G: Grives","description":"Du Chinook - Saint-Raymond","filterKey":"!tram","sources":["N/A"],"searchTerms":["Grives Line","Ligne Grives"],"agency":"otransit","region":"ottawa","bbox":[-75.7896489305591,45.417523910741664,-75.75964490220078,45.4487762771663]},"ottawa/h":{"id":"ottawa/h","type":"rail-line","color":"#ff6c6c","offset":0,"icon":"ottawa/h.svg","name":"Line H: Hospital","description":"Hurdman - Walkley","filterKey":"!tram","sources":["N/A"],"searchTerms":["Hospital Tram"],"agency":"otransit","region":"ottawa","bbox":[-75.6694067288052,45.36910488931855,-75.64460682279558,45.41198869154721]},"ottawa/j":{"id":"ottawa/j","type":"rail-line","color":"#a5a8ff","offset":-0.5,"icon":"ottawa/j.svg","name":"Line J: Jockvale","description":"Citigate - Limebank","filterKey":"!tram","sources":["N/A"],"searchTerms":["Jockvale Tram"],"agency":"otransit","region":"ottawa","bbox":[-75.7868696073165,45.26605669413131,-75.66272943397384,45.27870744887122]},"ottawa/l":{"id":"ottawa/l","type":"streetcar-line","color":"#00ff88","offset":0,"icon":"ottawa/l.svg","name":"Line L: Laurentian","description":"Sherbourne - Hunt Club","filterKey":"!tram","sources":["N/A"],"searchTerms":["Laurentian Tram"],"agency":"otransit","region":"ottawa","bbox":[-75.77169132695111,45.336289586228986,-75.72499648241134,45.38097137267573]},"ottawa/m":{"id":"ottawa/m","type":"streetcar-line","color":"#800000","offset":0,"icon":"ottawa/m.svg","name":"Line M: Montcalm","description":"Murray - Cegep","filterKey":"!tram","sources":["N/A"],"searchTerms":["Montcalm Line","Ligne Montcalm"],"agency":"otransit","region":"ottawa","bbox":[-75.742426226077,45.419887985370885,-75.68612230248017,45.47356789068152]},"ottawa/n":{"id":"ottawa/n","type":"streetcar-line","color":"#ff99e9","offset":0.5,"icon":"ottawa/n.svg","name":"Line N: Promenades","description":"du Pont - Gladstone","filterKey":"!tram","sources":["N/A"],"searchTerms":["Promenades Line","Ligne Promenades"],"agency":"otransit","region":"ottawa","bbox":[-75.74589081438312,45.41225965525089,-75.68706392806861,45.49283793458171]},"ottawa/o":{"id":"ottawa/o","type":"rail-line","color":"#00d05d","offset":0,"icon":"ottawa/o.svg","name":"Line O: Greenboro","description":"Hurdman - Karsh","filterKey":"!tram","sources":["N/A"],"searchTerms":["Greenboro Tram"],"agency":"otransit","region":"ottawa","bbox":[-75.6694067288052,45.36956046634574,-75.62078573424088,45.41198869154721]},"ottawa/p":{"id":"ottawa/p","type":"streetcar-line","color":"#39c6f4","offset":0,"icon":"ottawa/p.svg","name":"Line P: Plateau","description":"Murray - du Prado","filterKey":"!tram","sources":["N/A"],"searchTerms":["Plateau Line","Ligne Plateau"],"agency":"otransit","region":"ottawa","bbox":[-75.80487530892249,45.37364676258187,-75.68612230248017,45.44375127164051]},"ottawa/s":{"id":"ottawa/s","type":"rail-line","color":"#FF99E9","offset":0,"icon":"ottawa/s.svg","name":"Line S: Somerset","description":"Lookout - Tunney\'s Pasture","filterKey":"!tram","sources":["N/A"],"searchTerms":["Somerset Tram"],"agency":"otransit","region":"ottawa","bbox":[-75.73477644755037,45.39978984088691,-75.67639562349649,45.45694949951357]},"ottawa/v":{"id":"ottawa/v","type":"streetcar-line","color":"#ff0000","offset":-0.5,"icon":"ottawa/v.svg","name":"Line V: Stittsville","description":"Terry Fox - Cherry","filterKey":"!tram","sources":["N/A"],"searchTerms":["Stittsville Tram"],"agency":"otransit","region":"ottawa","bbox":[-75.93018066174182,45.248343716556434,-75.8896793951559,45.312338945884605]},"ottawa/y":{"id":"ottawa/y","type":"rail-line","color":"#FCEE21","offset":0.5,"icon":"ottawa/y.svg","name":"Line Y: Sandy Hill","description":"McArthur - Billings Bridge","filterKey":"!tram","sources":["N/A"],"searchTerms":["Sandy Hill Tram"],"agency":"otransit","region":"ottawa","bbox":[-75.68861483599902,45.37631182001907,-75.65444432750915,45.442002528290374]},"ottawa/bl":{"id":"ottawa/bl","type":"streetcar-line","color":"#3ccfff","offset":1.5,"icon":"ottawa/bl.svg","name":"BRT BL: Baseline","description":"Bayshore - Hurdman","filterKey":"!brt","sources":["N/A"],"searchTerms":["Baseline BRT"],"agency":"otransit","region":"ottawa","bbox":[-75.81430822620158,45.33280190743632,-75.66414262260115,45.411917939457425]},"ottawa/wa":{"id":"ottawa/wa","type":"streetcar-line","color":"#00a99d","offset":0.5,"icon":"ottawa/wa.svg","name":"BRT WA: Walkley","description":"St. Laurent - Tunneys Pasture","filterKey":"!brt","sources":["N/A"],"searchTerms":["Walkley BRT"],"agency":"otransit","region":"ottawa","bbox":[-75.73486647789274,45.371581681385294,-75.6176063891423,45.42160715883925]},"ottawa/ch":{"id":"ottawa/ch","type":"streetcar-line","color":"#ff9921","offset":0.5,"icon":"ottawa/ch.svg","name":"BRT CH: Chapman Mills","description":"Borrisokane - Limebank","filterKey":"!brt","sources":["N/A"],"searchTerms":["Chapman Mills BRT"],"agency":"otransit","region":"ottawa","bbox":[-75.7755910882046,45.25665689623323,-75.66272943397384,45.27870744887122]},"ottawa/bh":{"id":"ottawa/bh","type":"streetcar-line","color":"#ff0000","offset":0,"icon":"ottawa/bh.svg","name":"BRT BH: Barrhaven","description":"Tunney\'s Pasture - Barnsdale","filterKey":"!brt","sources":["N/A"],"searchTerms":["Barrhaven BRT"],"agency":"otransit","region":"ottawa","bbox":[-75.76099012877819,45.232196521421265,-75.66415317016603,45.411917939457425]},"ottawa/ka":{"id":"ottawa/ka","type":"streetcar-line","color":"#c89800","offset":0,"icon":"ottawa/ka.svg","name":"BRT KA: Kanata","description":"Lincoln Fields - Upper Canada","filterKey":"!brt","sources":["N/A"],"searchTerms":["Kanata BRT"],"agency":"otransit","region":"ottawa","bbox":[-75.94349896585783,45.29529380496921,-75.78081379127083,45.3663929779214]},"ottawa/ea":{"id":"ottawa/ea","type":"streetcar-line","color":"#00cc00","offset":-0.5,"icon":"ottawa/ea.svg","name":"BRT EA: Eagleson","description":"Halton - Acceptance","filterKey":"!brt","sources":["N/A"],"searchTerms":["Eagleson BRT"],"agency":"otransit","region":"ottawa","bbox":[-75.93642328427217,45.264401102082,-75.8405899082353,45.358210143880356]},"ottawa/av":{"id":"ottawa/av","type":"streetcar-line","color":"#ff99e9","offset":-0.6,"icon":"ottawa/av.svg","name":"BRT AV: Avalon","description":"Blair - Millenium","filterKey":"!brt","sources":["N/A"],"searchTerms":["Avalon BRT"],"agency":"otransit","region":"ottawa","bbox":[-75.63758963839828,45.41943217834665,-75.45093480753778,45.46396291518357]},"ottawa/jd":{"id":"ottawa/jd","type":"streetcar-line","color":"#3ccfff","offset":0.6,"icon":"ottawa/jd.svg","name":"BRT JD: Jeanne D\'arc","description":"Place D\'Orleans - Millenium","filterKey":"!brt","sources":["N/A"],"searchTerms":["Jeanne D\'arc BRT"],"agency":"otransit","region":"ottawa","bbox":[-75.54853812905765,45.45576665185669,-75.45089976285688,45.48415602465961]},"ottawa/pi":{"id":"ottawa/pi","type":"streetcar-line","color":"#c89800","offset":0,"icon":"ottawa/pi.svg","name":"BRT PI: Petrie Island","description":"Elmvale Acres - Petrie Island","filterKey":"!brt","sources":["N/A"],"searchTerms":["Petrie Island BRT"],"agency":"otransit","region":"ottawa","bbox":[-75.62724435163098,45.39995277691344,-75.45857757154381,45.50538158404281]},"ottawa/viaunion":{"id":"ottawa/viaunion","type":"rail-line","color":"#FFCC00","offset":-1,"icon":"ottawa/via.svg","name":"VIA: Union-Tremblay","description":"VIA Union","filterKey":"via","searchTerms":["VIA Rideau Tremblay"],"sources":["N/A"],"agency":"otransit","region":"ottawa","bbox":[-75.6941002687288,45.323425021635636,-75.64890530804793,45.42456557057116]},"modes/allregional":{"id":"modes/allregional","type":"rail-line","color":"#00cc00","offset":0,"icon":"ottawa/2.svg","name":"All Regional Lines","description":"All Regional Lines","filterKey":"regional","sources":["N/A"],"searchTerms":["Regional Rail: All Lines"],"agency":"modes","region":"ottawa","bbox":[-75.9194045640663,45.258611190888004,-75.42677992965803,45.51223069495376]},"modes/allmetro":{"id":"modes/allmetro","type":"rail-line","color":"#ff0000","offset":0,"icon":"ottawa/1.svg","name":"All Metro Lines","description":"All Metro Lines","filterKey":"metro","sources":["N/A"],"searchTerms":["Metro Rail: All Lines"],"agency":"modes","region":"ottawa","bbox":[-75.93334771633994,45.26663374353053,-75.47747973635988,45.4958336575269]},"modes/allbrt":{"id":"modes/allbrt","type":"rail-line","color":"#3ccfff","offset":-1,"icon":"ottawa/bl.svg","name":"All BRT Lines","description":"All BRT Lines","filterKey":"brt","sources":["N/A"],"searchTerms":["Bus Rapid Transit: All Lines"],"agency":"modes","region":"ottawa","bbox":[-75.94349896585783,45.232196521421265,-75.45089976285688,45.50538158404281]},"modes/alltrams":{"id":"modes/alltrams","type":"rail-line","color":"#fcee21","offset":1,"icon":"ottawa/y.svg","name":"All Tram Lines","description":"All Tram Lines","filterKey":"tram","sources":["N/A"],"searchTerms":["Trams: All Lines"],"agency":"modes","region":"ottawa","bbox":[-75.93018066174182,45.248343716556434,-75.62078573424088,45.5010195762866]},"ottawa/go":{"id":"ottawa/go","type":"rail-line","color":"#BA0000","offset":0,"icon":"ottawa/go.svg","name":"GO: Northwestern","description":"Carp - Cornwall","filterKey":"gotrain","sources":["N/A"],"searchTerms":["GO Cornwall"],"agency":"go-ncr","region":"go-ncr","bbox":[-77.28024844996973,45.01174614467169,-74.72785741593778,45.89588967450436]},"ottawa/go-almonte":{"id":"ottawa/go-almonte","type":"rail-line","color":"#BA0000","offset":0,"icon":"ottawa/go.svg","name":"GO: Almonte","description":"Carleton Place & Almonte","filterKey":"gotrain","sources":["N/A"],"searchTerms":["GO Almonte"],"agency":"go-ncr","region":"go-ncr","bbox":[-76.19341736102947,45.12366989492263,-75.829839333482,45.33290398274755]},"ottawa/gounion":{"id":"ottawa/gounion","type":"rail-line","color":"#BA0000","offset":1,"icon":"ottawa/go.svg","name":"GO: Union-Tremblay","description":"GO Union","filterKey":"gotrain","searchTerms":["GO Rideau Tremblay"],"sources":["N/A"],"agency":"go-ncr","region":"go-ncr","bbox":[-75.6941002687288,45.323425021635636,-75.64890530804793,45.42456557057116]},"via/corridor":{"id":"via/corridor","type":"rail-line","color":"#FFCC00","icon":"viarail/viarail.svg","offset":0,"name":"Corridor","description":"Canada\'s busiest passenger rail corridor with multiple daily departures.","sources":["VIA Rail Canada"],"filterKey":"via/corridor","agency":"viarail","region":"passengerrail","bbox":[-83.007134,42.29556,-71.21461,46.83794]},"via/canadian":{"id":"via/canadian","type":"rail-line","color":"#FFCC00","icon":"viarail/viarail.svg","offset":0.5,"name":"The Canadian","description":"Canada\'s most iconic passenger train running between Toronto and Vancouver.","sources":["VIA Rail Canada"],"filterKey":"via/canadian","agency":"viarail","region":"passengerrail","bbox":[-123.0974815,43.64481,-79.15434,53.67002]},"via/churchill":{"id":"via/churchill","type":"rail-line","color":"#FFCC00","icon":"viarail/viarail.svg","name":"Winnipeg - Churchill","description":"Canada\'s northernmost passenger train between Churchill and Winnipeg.","sources":["VIA Rail Canada"],"filterKey":"via/churchill","agency":"viarail","region":"passengerrail","bbox":[-102.68153,49.83515,-94.06208,58.76772]},"via/jonquiere":{"id":"via/jonquiere","type":"rail-line","color":"#FFCC00","offset":0,"icon":"viarail/viarail.svg","name":"Montréal - Jonquière","description":"Passenger train service between Montréal and Jonquière serving numerous flag stops.","sources":["VIA Rail Canada"],"filterKey":"via/jonquiere","agency":"viarail","region":"passengerrail","bbox":[-73.68689,45.44713,-71.2544,48.48253]},"via/ocean":{"id":"via/ocean","type":"rail-line","color":"#FFCC00","offset":0,"icon":"viarail/viarail.svg","name":"The Ocean","description":"Scenic train connecting the Atlantic provinces and Montreal","sources":["VIA Rail Canada"],"filterKey":"via/ocean","agency":"viarail","region":"passengerrail","bbox":[-73.56618,44.62798,-63.26974,48.62748]},"via/rupert":{"id":"via/rupert","type":"rail-line","color":"#FFCC00","icon":"viarail/viarail.svg","name":"Jasper - Prince Rupert","description":"Service connecting Prince Rupert, Jasper and various flag stops.","sources":["VIA Rail Canada"],"filterKey":"via/rupert","agency":"viarail","region":"passengerrail","bbox":[-130.35971,52.85176,-118.079386435,55.26849]},"via/senneterre":{"id":"via/senneterre","type":"rail-line","color":"#FFCC00","icon":"viarail/viarail.svg","name":"Montréal - Senneterre","description":"Passenger train between Senneterre, Montréal and various flag stops.","sources":["VIA Rail Canada"],"filterKey":"via/senneterre","agency":"viarail","region":"passengerrail","bbox":[-77.24439,45.44713,-72.46394,48.392294]},"via/whiteriver":{"id":"via/whiteriver","type":"rail-line","color":"#FFCC00","icon":"viarail/viarail.svg","name":"Sudbury - White River","description":"Picturesque train connecting White River and Sudbury.","sources":["VIA Rail Canada"],"filterKey":"via/whiteriver","agency":"viarail","region":"passengerrail","bbox":[-85.28586,46.48737,-80.992218679,48.5899]},"montrealmaintenance":{"id":"montrealmaintenance","type":"rail-yard","color":"#FFCC00","icon":"viarail/viarail.svg","name":"VIA Rail Montreal Maintenance Centre","description":"Major maintenance facility for VIA Rail located in Montreal.","sources":["VIA Rail Canada"],"filterKey":"via/corridor","agency":"viarail","region":"passengerrail","bbox":[-73.5760069,45.4720746,-73.5411415,45.4876333]},"torontomaintenance":{"id":"torontomaintenance","type":"rail-yard","color":"#FFCC00","icon":"viarail/viarail.svg","name":"VIA Rail Toronto Maintenance Centre","description":"Major maintenance facility for VIA Rail located in Toronto.","sources":["VIA Rail Canada"],"filterKey":"via/corridor","agency":"viarail","region":"passengerrail","bbox":[-79.5207157,43.6041221,-79.4919435,43.620068]},"vancouvermaintenance":{"id":"vancouvermaintenance","type":"rail-yard","color":"#FFCC00","icon":"viarail/viarail.svg","name":"VIA Rail Vancouver Maintenance Centre","description":"Maintenance facility for VIA Rail located in Vancouver.","sources":["VIA Rail Canada"],"filterKey":"via/canadian","agency":"viarail","region":"passengerrail","bbox":[-123.0974703,49.2723176,-123.0858018,49.2739409]},"winnipegmaintenance":{"id":"winnipegmaintenance","type":"rail-yard","color":"#FFCC00","icon":"viarail/viarail.svg","name":"VIA Rail Winnipeg Maintenance Centre","description":"Maintenance facility for VIA Rail located in Winnipeg.","sources":["VIA Rail Canada"],"filterKey":"via/canadian","agency":"viarail","region":"passengerrail","bbox":[-97.1521922,49.8546133,-97.1406864,49.8732137]}}')},9455:e=>{"use strict";e.exports=JSON.parse('{"agencies":[{"id":"otransit","name":"Ottawa Transit","bbox":[-75.94349896585783,45.232196521421265,-75.42677992965803,45.51223069495376],"data":["ottawa/belfastYard.json","ottawa/greenbankYard.json","ottawa/moodieYard.json","ottawa/walkleyYard.json","ottawa/line1-confederation.json","ottawa/line2-trillium.json","ottawa/line3-crosstown.json","ottawa/line4-aviation.json","ottawa/line5-central.json","ottawa/line6-nepean.json","ottawa/line7-hurdman.json","ottawa/line9-beachburg.json","ottawa/line10-oldchelsea.json","ottawa/line11-stittsville.json","ottawa/line12-fallowfield.json","ottawa/line13-tewin.json","ottawa/line14-cardinal.json","ottawa/line15-eardley.json","ottawa/lineA-aylmer.json","ottawa/lineB-bank.json","ottawa/lineC-carleton.json","ottawa/lineD-deschenes.json","ottawa/lineE-verendrye.json","ottawa/lineG-grives.json","ottawa/lineH-hospital.json","ottawa/lineJ-jockvale.json","ottawa/lineL-laurentian.json","ottawa/lineM-montcalm.json","ottawa/lineN-promenades.json","ottawa/lineO-greenboro.json","ottawa/lineP-plateau.json","ottawa/lineS-somerset.json","ottawa/lineV-stittsville.json","ottawa/lineY-sandyhill.json","ottawa/brtBL-baseline.json","ottawa/brtWA-walkley.json","ottawa/brtCH-chapmanmills.json","ottawa/brtBH-barrhaven.json","ottawa/brtKA-kanata.json","ottawa/brtEA-eagleson.json","ottawa/brtAV-avalon.json","ottawa/brtJD-jeannedarc.json","ottawa/brtPI-petrieisland.json","ottawa/via-union.json"]},{"id":"go-ncr","name":"GO Transit","bbox":[-77.28024844996973,45.01174614467169,-74.72785741593778,45.89588967450436],"data":["go-ncr/go-northwestern.json","go-ncr/go-almonte.json","go-ncr/go-union.json"]},{"id":"modes","name":"Transit by Mode Type","bbox":[-77.28024844996973,45.01174614467169,-74.72785741593778,45.89588967450436],"data":["modes/modes-regional.json","modes/modes-metro.json","modes/modes-brt.json","modes/modes-trams.json"]},{"id":"viarail","name":"VIA Rail Canada","bbox":[-130.35971,42.29556,-63.26974,58.76772],"data":["viarail/corridor.json","viarail/canadian.json","viarail/churchill.json","viarail/jonquiere.json","viarail/ocean.json","viarail/rupert.json","viarail/senneterre.json","viarail/whiteriver.json","viarail/montrealmaintenance.json","viarail/torontomaintenance.json","viarail/vancouvermaintenance.json","viarail/winnipegmaintenance.json"]}],"regions":[{"id":"ottawa","title":"Ottawa","agencies":["otransit","modes"],"location":[-75.691042,45.420472],"bbox":[-75.94349896585783,45.232196521421265,-75.42677992965803,45.51223069495376],"tier":2},{"id":"go-ncr","title":"GO Transit","agencies":["go-ncr"],"location":[-75.691042,45.420472],"bbox":[-77.28024844996973,45.01174614467169,-74.72785741593778,45.89588967450436],"tier":2},{"id":"passengerrail","title":"Passenger Rail","agencies":["viarail"],"location":[-79.383849,43.653482],"bbox":[-130.35971,42.29556,-63.26974,58.76772],"tier":1}]}')}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={id:e,loaded:!1,exports:{}};return a[e].call(n.exports,n,n.exports,i),n.loaded=!0,n.exports}i.m=a,e=[],i.O=(t,n,a,r)=>{if(!n){var o=1/0;for(c=0;c<e.length;c++){for(var[n,a,r]=e[c],l=!0,s=0;s<n.length;s++)(!1&r||o>=r)&&Object.keys(i.O).every((e=>i.O[e](n[s])))?n.splice(s--,1):(l=!1,r<o&&(o=r));if(l){e.splice(c--,1);var u=a();void 0!==u&&(t=u)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[n,a,r]},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(e,a){if(1&a&&(e=this(e)),8&a)return e;if("object"==typeof e&&e){if(4&a&&e.__esModule)return e;if(16&a&&"function"==typeof e.then)return e}var r=Object.create(null);i.r(r);var o={};t=t||[null,n({}),n([]),n(n)];for(var l=2&a&&e;"object"==typeof l&&!~t.indexOf(l);l=n(l))Object.getOwnPropertyNames(l).forEach((t=>o[t]=()=>e[t]));return o.default=()=>e,i.d(r,o),r},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var a=n.length-1;a>-1&&!e;)e=n[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{var e={179:0};i.O.j=t=>0===e[t];var t=(t,n)=>{var a,r,[o,l,s]=n,u=0;if(o.some((t=>0!==e[t]))){for(a in l)i.o(l,a)&&(i.m[a]=l[a]);if(s)var c=s(i)}for(t&&t(n);u<o.length;u++)r=o[u],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return i.O(c)},n=self.webpackChunkot67=self.webpackChunkot67||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=i.O(void 0,[603],(()=>i(3042)));o=i.O(o)})();